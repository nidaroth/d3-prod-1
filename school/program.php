<? require_once("../global/config.php"); 
require_once("../language/common.php");
require_once("../language/program.php");
require_once("function_grade_input.php"); 
require_once("check_access.php");

if(check_access('SETUP_REGISTRAR') == 0 ){
	header("location:../index");
	exit;
}

if($_GET['act'] == 'req_del'){
	$db->Execute("DELETE FROM M_CAMPUS_PROGRAM_REQUIREMENT WHERE PK_CAMPUS_PROGRAM_REQUIREMENT = '$_GET[iid]' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' "); 
	header("location:program?id=".$_GET['id'].'&tab=requirementTab');
}

if(!empty($_POST)){
	//echo "<pre>";print_r($_POST);exit;
	//DIAM-2365
	if(str_replace("#","",$_POST['current_tab'])=='gainfulEmployementTab'){
		$PK_CAMPUS_PROGRAM_GE = $_REQUEST['id'];
		$GAINFULL_EMPLOYMENT['ACCREDITING_AGENCY_NAME']  = $_POST['GE_ACCREDITING_AGENCY_NAME'];
		$GAINFULL_EMPLOYMENT['APPROVED_PE_PROGRAM_INDICATOR']  = $_POST['GE_APPROVED_PE_PROGRAM_INDICATOR'];
		$GAINFULL_EMPLOYMENT['CTP_AND_POSTSECONDARY_PROGRAM']  = $_POST['GE_CTP_AND_POSTSECONDARY_PROGRAM'];
		$GAINFULL_EMPLOYMENT['ARTS_BACHELORS_DEGREE_PROGRAM']  = $_POST['GE_ARTS_BACHELORS_DEGREE_PROGRAM'];
		$GAINFULL_EMPLOYMENT['PROG_ACCREDITED_INDICATOR']  = $_POST['GE_PROG_ACCREDITED_INDICATOR'];
		$GAINFULL_EMPLOYMENT['QUALIFYING_GRADUATE_PROGRAM_INDICATOR']  = $_POST['GE_QUALIFYING_GRADUATE_PROGRAM_INDICATOR'];
		$GAINFULL_EMPLOYMENT['WEEKS_IN_TITLE_IV_AY']  = $_POST['GE_WEEKS_IN_TITLE_IV_AY'];
		$GAINFULL_EMPLOYMENT['LENGTH_OF_PROGRAM_MEASUREMENT']  =     $_POST['GE_LENGTH_OF_PROGRAM_MEASUREMENT'];
		$GAINFULL_EMPLOYMENT['LENGTH_OF_PROGRAM']  = $_POST['GE_LENGTH_OF_PROGRAM'];
		$GAINFULL_EMPLOYMENT['ALLOWANCE_FOR_BOOKS_SUPPLIES_EQUIPEMENT']  = $_POST['GE_ALLOWANCE_FOR_BOOKS_SUPPLIES_EQUIPEMENT'];
		$GAINFULL_EMPLOYMENT['ALLOWANCE_FOR_HOUSING_AND_FOOD']  =  $_POST['GE_ALLOWANCE_FOR_HOUSING_AND_FOOD'];
		$GAINFULL_EMPLOYMENT['ANNUAL_COA']  = $_POST['GE_ANNUAL_COA'];
		$GAINFULL_EMPLOYMENT['TUITION_AND_FEES_AMOUNT_AY']  = $_POST['GE_TUITION_AND_FEES_AMOUNT_AY'];
		$GAINFULL_EMPLOYMENT['STATE_OF_MAIN_CAMPUS']  = $_POST['GE_STATE_OF_MAIN_CAMPUS'];
		$GAINFULL_EMPLOYMENT['PROGRAM_PS_FOR_LSMC']  = $_POST['GE_PROGRAM_PS_FOR_LSMC'];
		$GAINFULL_EMPLOYMENT['STATE_TWO_IN_MSA_MC']  =  $_POST['GE_STATE_TWO_IN_MSA_MC'];
		$GAINFULL_EMPLOYMENT['PROGRAM_PS_FOR_LICENSURE_MSA_STATE_TWO']  = $_POST['GE_PROGRAM_PS_FOR_LICENSURE_MSA_STATE_TWO'];
		$GAINFULL_EMPLOYMENT['STATE_THREE_IN_MSA_MC']  =  $_POST['GE_STATE_THREE_IN_MSA_MC'];
		$GAINFULL_EMPLOYMENT['PROGRAM_PS_FOR_LICENSURE_MSA_STATE_THREE']  = $_POST['GE_PROGRAM_PS_FOR_LICENSURE_MSA_STATE_THREE'];
		$GAINFULL_EMPLOYMENT['STATE_FOUR_IN_MSA_MC']  = $_POST['GE_STATE_FOUR_IN_MSA_MC'];
		$GAINFULL_EMPLOYMENT['PROGRAM_PS_FOR_LICENSURE_MSA_STATE_FOUR']  = $_POST['GE_PROGRAM_PS_FOR_LICENSURE_MSA_STATE_FOUR'];
		$GAINFULL_EMPLOYMENT['STATE_FIVE_IN_MSA_MC']  = $_POST['GE_STATE_FIVE_IN_MSA_MC'];
		$GAINFULL_EMPLOYMENT['PROGRAM_PS_FOR_LICENSURE_MSA_STATE_FIVE']  = $_POST['GE_PROGRAM_PS_FOR_LICENSURE_MSA_STATE_FIVE'];
	
		// echo "<pre/>";
		// 	print_r($GAINFULL_EMPLOYMENT); exit;
		$RES_GE = $db->Execute("SELECT PK_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT FROM M_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM_GE' ");
				
			if($RES_GE->RecordCount() == 0) {
				$GAINFULL_EMPLOYMENT['PK_ACCOUNT'] 		= $_SESSION['PK_ACCOUNT'];
				$GAINFULL_EMPLOYMENT['PK_CAMPUS_PROGRAM'] 	= $PK_CAMPUS_PROGRAM_GE;
				$GAINFULL_EMPLOYMENT['CREATED_ON'] 		= date("Y-m-d H:i:s");
				$GAINFULL_EMPLOYMENT['CREATED_BY'] 		= $_SESSION['PK_USER'];
				db_perform('M_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT', $GAINFULL_EMPLOYMENT, 'insert');
			} else {
				$PK_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT = $RES_GE ->fields['PK_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT'];
				$GAINFULL_EMPLOYMENT['EDITED_ON'] 		= date("Y-m-d H:i:s");
				$GAINFULL_EMPLOYMENT['EDITED_BY'] 		= $_SESSION['PK_USER'];
				db_perform('M_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT', $GAINFULL_EMPLOYMENT, 'update'," PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM_GE' AND PK_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT = '$PK_CAMPUS_PROGRAM_GAINFUL_EMPLOYMENT' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
			}
				if($_POST['SAVE_CONTINUE'] == 0)
					header("location:manage_program");
				else
					header("location:program?id=".$PK_CAMPUS_PROGRAM_GE."&tab=".str_replace("#","",$_POST['current_tab']));

				exit;
	}
		//DIAM-2365

	$CAMPUS_PROGRAM['PROGRAM_TRANSCRIPT_CODE'] 		= $_POST['PROGRAM_TRANSCRIPT_CODE'];
	$CAMPUS_PROGRAM['USE_PROGRAM_GRADE'] 			= $_POST['USE_PROGRAM_GRADE'];
	$CAMPUS_PROGRAM['CODE'] 						= $_POST['CODE'];
	$CAMPUS_PROGRAM['DESCRIPTION'] 					= $_POST['DESCRIPTION'];
	$CAMPUS_PROGRAM['PK_SESSION'] 					= $_POST['PK_SESSION'];
	$CAMPUS_PROGRAM['UNITS'] 						= $_POST['UNITS'];
	$CAMPUS_PROGRAM['FA_UNITS'] 					= $_POST['FA_UNITS'];
	$CAMPUS_PROGRAM['UNIT_COST'] 					= $_POST['UNIT_COST'];
	$CAMPUS_PROGRAM['FA_CODE'] 						= $_POST['FA_CODE'];
	$CAMPUS_PROGRAM['CAPACITY'] 					= $_POST['CAPACITY'];
	$CAMPUS_PROGRAM['DIPLOMA'] 						= $_POST['DIPLOMA'];
	$CAMPUS_PROGRAM['PK_PROGRAM_GROUP'] 			= $_POST['PK_PROGRAM_GROUP'];
	$CAMPUS_PROGRAM['PK_TUITION_TYPE'] 				= $_POST['PK_TUITION_TYPE'];
	$CAMPUS_PROGRAM['CLOCK_CREDIT'] 				= $_POST['CLOCK_CREDIT'];
	$CAMPUS_PROGRAM['PK_GRADE_SCALE_MASTER'] 		= $_POST['PK_GRADE_SCALE_MASTER'];
	$CAMPUS_PROGRAM['YEARS'] 						= $_POST['YEARS'];
	$CAMPUS_PROGRAM['MONTHS'] 						= $_POST['MONTHS'];
	$CAMPUS_PROGRAM['WEEKS'] 						= $_POST['WEEKS'];
	$CAMPUS_PROGRAM['HOURS'] 						= $_POST['HOURS'];
	$CAMPUS_PROGRAM['DAILY_HOURS_SUNDAY'] 			= $_POST['DAILY_HOURS_SUNDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_MONDAY'] 			= $_POST['DAILY_HOURS_MONDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_TUESDAY'] 			= $_POST['DAILY_HOURS_TUESDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_WEDNESDAY'] 		= $_POST['DAILY_HOURS_WEDNESDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_THURSDAY'] 		= $_POST['DAILY_HOURS_THURSDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_FRIDAY'] 			= $_POST['DAILY_HOURS_FRIDAY'];
	$CAMPUS_PROGRAM['DAILY_HOURS_SATURDAY'] 		= $_POST['DAILY_HOURS_SATURDAY'];
	$CAMPUS_PROGRAM['NOTES'] 						= $_POST['NOTES'];
	$CAMPUS_PROGRAM['CIP_CODE'] 					= $_POST['CIP_CODE'];
	$CAMPUS_PROGRAM['CIP_YEAR'] 					= $_POST['CIP_YEAR'];
	$CAMPUS_PROGRAM['CIP_DEFINITION'] 				= $_POST['CIP_DEFINITION'];
	$CAMPUS_PROGRAM['PK_SPECIAL_PROGRAM_INDICATOR'] = $_POST['PK_SPECIAL_PROGRAM_INDICATOR'];
	$CAMPUS_PROGRAM['PK_CREDENTIAL_LEVEL']  		= $_POST['PK_CREDENTIAL_LEVEL'];
	$CAMPUS_PROGRAM['PK_SAP_SCALE']  				= $_POST['PK_SAP_SCALE'];// DIAM - 24, DIAM - 677
	$CAMPUS_PROGRAM['PK_SAP_GROUP']  				= $_POST['PK_SAP_GROUP'];// DIAM - 24
	$CAMPUS_PROGRAM['USE_TRANSCRIPT_GROUP']  		= $_POST['USE_TRANSCRIPT_GROUP']; //Ticket # 1603
	
	/* Ticket # 1682 */
	$CAMPUS_PROGRAM['MEASUREMENT_TYPE']  			= $_POST['MEASUREMENT_TYPE'];
	$CAMPUS_PROGRAM['EXCLUDE_HOLIDAYS']  			= $_POST['EXCLUDE_HOLIDAYS'];
	$CAMPUS_PROGRAM['EXCLUDE_BREAKS']  				= $_POST['EXCLUDE_BREAKS'];
	$CAMPUS_PROGRAM['EXCLUDE_CLOSURES']  			= $_POST['EXCLUDE_CLOSURES'];
	$CAMPUS_PROGRAM['EXCLUDE_LOA']  				= $_POST['EXCLUDE_LOA'];
	/* Ticket # 1682 */
	
	$CAMPUS_PROGRAM['PK_ENROLLMENT_STATUS_SCALE_MASTER'] = $_POST['PK_ENROLLMENT_STATUS_SCALE_MASTER'];
	
	/* Ticket # 1526 
	$PROGRAM_ANALYTICS_SETUP['GE_PROGRAM'] 			 = $_POST['GE_PROGRAM'];
	$PROGRAM_ANALYTICS_SETUP['MED_DEN_RESI'] 		 = $_POST['MED_DEN_RESI'];
	$PROGRAM_ANALYTICS_SETUP['FISAP'] 				 = $_POST['FISAP'];
	//$PROGRAM_ANALYTICS_SETUP['_1098T'] 				 = $_POST['_1098T']; // Ticket # 1048 
	$PROGRAM_ANALYTICS_SETUP['_90_10_Report'] 		 = $_POST['_90_10_Report'];
	$PROGRAM_ANALYTICS_SETUP['ABHES'] 				 = $_POST['ABHES'];
	$PROGRAM_ANALYTICS_SETUP['TERM_DAYS'] 			 = $_POST['TERM_DAYS'];
	$PROGRAM_ANALYTICS_SETUP['TERM_MONTHS'] 		 = $_POST['TERM_MONTHS'];
	$PROGRAM_ANALYTICS_SETUP['PK_ENROLLMENT_STATUS'] = $_POST['PK_ENROLLMENT_STATUS'];
	Ticket # 1526 */
	$PROGRAM_ANALYTICS_SETUP['PK_EARNING_TYPE'] 	 = $_POST['PK_EARNING_TYPE'];

	/* DIAM-2124 */	
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_TYPE_OPT'] 			 	= $_POST['PROGRAM_TYPE_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_HOURS_OPT'] 	 			= $_POST['PROGRAM_HOURS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_FA_UNITS_OPT'] 	 		= $_POST['PROGRAM_FA_UNITS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_UNITS_OPT'] 	 			= $_POST['PROGRAM_UNITS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_LENGTH_IN_HOURS_OPT'] 	= $_POST['PROGRAM_LENGTH_IN_HOURS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_LENGTH_IN_MONTHS_OPT'] 	= $_POST['PROGRAM_LENGTH_IN_MONTHS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['PROGRAM_LENGTH_IN_WEEKS_OPT'] 	= $_POST['PROGRAM_LENGTH_IN_WEEKS_OPT'];
	$PROGRAM_ANALYTICS_SETUP['OFFER_LETTER_COA_OPT'] 	 			= $_POST['OFFER_LETTER_COA_OPT'];
	/* DIAM-2124 */
	
	if($_GET['id'] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
		$CAMPUS_PROGRAM['PK_ACCOUNT']  = $_SESSION['PK_ACCOUNT'];
		$CAMPUS_PROGRAM['CREATED_BY']  = $_SESSION['PK_USER'];
		$CAMPUS_PROGRAM['CREATED_ON']  = date("Y-m-d H:i");
		db_perform('M_CAMPUS_PROGRAM', $CAMPUS_PROGRAM, 'insert');
		
		$PK_CAMPUS_PROGRAM = $db->insert_ID();
		
		$PROGRAM_ANALYTICS_SETUP['PK_CAMPUS_PROGRAM'] 	= $PK_CAMPUS_PROGRAM;
		$PROGRAM_ANALYTICS_SETUP['PK_ACCOUNT']  		= $_SESSION['PK_ACCOUNT'];
		$PROGRAM_ANALYTICS_SETUP['CREATED_BY']  		= $_SESSION['PK_USER'];
		$PROGRAM_ANALYTICS_SETUP['CREATED_ON']  		= date("Y-m-d H:i");
		db_perform('M_CAMPUS_PROGRAM_ANALYTICS_SETUP', $PROGRAM_ANALYTICS_SETUP, 'insert');
		
		/* Ticket # 1169 */
		$CAMPUS_PROGRAM_REPORT_HEADER['PK_CAMPUS_PROGRAM'] 	= $PK_CAMPUS_PROGRAM;
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_1'] 				= 'PROGRAM_CODE';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_2'] 				= 'STUDENT_STATUS';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_3'] 				= 'BEGIN_DATE';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_4'] 				= '';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_5'] 				= 'EXPECTED_GRAD_DATE';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_6'] 				= 'LDA';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_7'] 				= '';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_8'] 				= 'FULL_PART_TIME';
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_9'] 				= 'SESSION_ABBREVIATION';
		$CAMPUS_PROGRAM_REPORT_HEADER['ACTIVE'] 			= 1;
		$CAMPUS_PROGRAM_REPORT_HEADER['PK_ACCOUNT'] 		= $_SESSION['PK_ACCOUNT'];
		$CAMPUS_PROGRAM_REPORT_HEADER['CREATED_ON'] 		= date("Y-m-d H:i:s");
		$CAMPUS_PROGRAM_REPORT_HEADER['CREATED_BY'] 		= $_SESSION['PK_USER'];
		db_perform('M_CAMPUS_PROGRAM_REPORT_HEADER', $CAMPUS_PROGRAM_REPORT_HEADER, 'insert');
		/* Ticket # 1169 */
		
	} else {
		$PK_CAMPUS_PROGRAM = $_GET['id'];
		$CAMPUS_PROGRAM['ACTIVE'] 	 = $_POST['ACTIVE'];
		$CAMPUS_PROGRAM['EDITED_BY'] = $_SESSION['PK_USER'];
		$CAMPUS_PROGRAM['EDITED_ON'] = date("Y-m-d H:i");
		
		$cond = " AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ";
//echo "<pre>";print_r($CAMPUS_PROGRAM);exit;	
		db_perform('M_CAMPUS_PROGRAM', $CAMPUS_PROGRAM, 'update'," PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' $cond ");
		
		$PROGRAM_ANALYTICS_SETUP['EDITED_BY']  	= $_SESSION['PK_USER'];
		$PROGRAM_ANALYTICS_SETUP['EDITED_ON']  	= date("Y-m-d H:i");
		db_perform('M_CAMPUS_PROGRAM_ANALYTICS_SETUP', $PROGRAM_ANALYTICS_SETUP, 'update' ," PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' ");
		
		/* Ticket # 1169 */
		$res_11 = $db->Execute("SELECT PK_CAMPUS_PROGRAM_REPORT_HEADER FROM M_CAMPUS_PROGRAM_REPORT_HEADER WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' ");
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_1'] 			= $_POST['BOX_1'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_2'] 			= $_POST['BOX_2'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_3'] 			= $_POST['BOX_3'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_4'] 			= $_POST['BOX_4'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_5'] 			= $_POST['BOX_5'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_6'] 			= $_POST['BOX_6'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_7'] 			= $_POST['BOX_7'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_8'] 			= $_POST['BOX_8'];
		$CAMPUS_PROGRAM_REPORT_HEADER['BOX_9'] 			= $_POST['BOX_9'];
		
		/* Ticket # 1595 */
		$CAMPUS_PROGRAM_REPORT_HEADER['SCHOOL_HEADER_OPTION'] 	= $_POST['SCHOOL_HEADER_OPTION'];
		$CAMPUS_PROGRAM_REPORT_HEADER['LOGO_OPTION'] 			= $_POST['LOGO_OPTION'];
		/* Ticket # 1595 */
		
		if($res_11->RecordCount() == 0) {
			$CAMPUS_PROGRAM_REPORT_HEADER['PK_ACCOUNT'] 		= $_SESSION['PK_ACCOUNT'];
			$CAMPUS_PROGRAM_REPORT_HEADER['PK_CAMPUS_PROGRAM'] 	= $PK_CAMPUS_PROGRAM;
			$CAMPUS_PROGRAM_REPORT_HEADER['CREATED_ON'] 		= date("Y-m-d H:i:s");
			$CAMPUS_PROGRAM_REPORT_HEADER['CREATED_BY'] 		= $_SESSION['PK_USER'];
			db_perform('M_CAMPUS_PROGRAM_REPORT_HEADER', $CAMPUS_PROGRAM_REPORT_HEADER, 'insert');
		} else {
			$CAMPUS_PROGRAM_REPORT_HEADER['EDITED_ON'] 		= date("Y-m-d H:i:s");
			$CAMPUS_PROGRAM_REPORT_HEADER['EDITED_BY'] 		= $_SESSION['PK_USER'];
			db_perform('M_CAMPUS_PROGRAM_REPORT_HEADER', $CAMPUS_PROGRAM_REPORT_HEADER, 'update'," PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
		}
		/* Ticket # 1169 */
	}
	
	foreach($_POST['PK_CAMPUS'] as $PK_CAMPUS){
		$res_camp = $db->Execute("SELECT PK_CAMPUS_PROGRAM_CAMPUS FROM M_CAMPUS_PROGRAM_CAMPUS WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_CAMPUS = '$PK_CAMPUS' ");
		
		if($res_camp->RecordCount() == 0 || $_GET['duplicate'] == 1) { //Ticket # 1160
			$CAMPUS_PROGRAM_CAMPUS = array();
			$CAMPUS_PROGRAM_CAMPUS['PK_CAMPUS_PROGRAM'] = $PK_CAMPUS_PROGRAM;
			$CAMPUS_PROGRAM_CAMPUS['PK_ACCOUNT']  		= $_SESSION['PK_ACCOUNT'];
			$CAMPUS_PROGRAM_CAMPUS['PK_CAMPUS'] 		= $PK_CAMPUS;
			$CAMPUS_PROGRAM_CAMPUS['CREATED_BY']  		= $_SESSION['PK_USER'];
			$CAMPUS_PROGRAM_CAMPUS['CREATED_ON']  		= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_CAMPUS', $CAMPUS_PROGRAM_CAMPUS, 'insert');
			$PK_CAMPUS_PROGRAM_CAMPUS_ARR[] = $db->insert_ID();
		} else
			$PK_CAMPUS_PROGRAM_CAMPUS_ARR[] = $res_camp->fields['PK_CAMPUS_PROGRAM_CAMPUS'];
	}
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_CAMPUS_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_CAMPUS_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_CAMPUS NOT IN ($ids) ";
	}
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_CAMPUS WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond ");

	$query_1 = "select S_STUDENT_MASTER.PK_STUDENT_MASTER,PK_STUDENT_ENROLLMENT 
	FROM 
	S_STUDENT_MASTER, S_STUDENT_ACADEMICS, S_STUDENT_ENROLLMENT, M_STUDENT_STATUS  
	WHERE 
	S_STUDENT_MASTER.PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND 
	S_STUDENT_ACADEMICS.PK_STUDENT_MASTER = S_STUDENT_MASTER.PK_STUDENT_MASTER AND 
	S_STUDENT_ENROLLMENT.PK_STUDENT_MASTER = S_STUDENT_MASTER.PK_STUDENT_MASTER AND 
	M_STUDENT_STATUS.PK_STUDENT_STATUS = S_STUDENT_ENROLLMENT.PK_STUDENT_STATUS AND ARCHIVED = 0 AND 
	PK_STUDENT_STATUS_MASTER != 12 AND S_STUDENT_ENROLLMENT.PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' ";
	
	/* ticket #1059 */
	$i = 0;
	foreach($_POST['requirement_id'] as $hid){
		$PROGRAM_REQUIREMENT = array();
		$PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY']  = $_POST['PK_REQUIREMENT_CATEGORY'][$i];
		$PROGRAM_REQUIREMENT['REQUIREMENT']  			 = $_POST['REQUIREMENT'][$i];
		$PROGRAM_REQUIREMENT['MANDATORY'] 	 			 = $_POST['MANDATORY_'.$hid];
		$PROGRAM_REQUIREMENT['ACTIVE'] 		 			 = $_POST['ACTIVE_'.$hid];
		if($_POST['PK_CAMPUS_PROGRAM_REQUIREMENT'][$i] == '' || $_GET['duplicate'] == 1 ){ //Ticket # 1160
			$PROGRAM_REQUIREMENT['PK_CAMPUS_PROGRAM']  	= $PK_CAMPUS_PROGRAM;
			$PROGRAM_REQUIREMENT['PK_ACCOUNT']  		= $_SESSION['PK_ACCOUNT'];
			$PROGRAM_REQUIREMENT['CREATED_BY']  		= $_SESSION['PK_USER'];
			$PROGRAM_REQUIREMENT['CREATED_ON']  		= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_REQUIREMENT', $PROGRAM_REQUIREMENT, 'insert');
			$PK_CAMPUS_PROGRAM_REQUIREMENT 		 = $db->insert_ID();
			$PK_CAMPUS_PROGRAM_REQUIREMENT_ARR[] = $PK_CAMPUS_PROGRAM_REQUIREMENT;
			
			if($PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] == 1)
				$query = $query_1." AND ADMISSIONS = 1 GROUP BY PK_STUDENT_ENROLLMENT ";
			else if($PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] == 2)
				$query = $query_1." AND COMPLETED = 0 GROUP BY PK_STUDENT_ENROLLMENT ";
			
			$res_stu = $db->Execute($query);
			while (!$res_stu->EOF) {
				$STUDENT_REQUIREMENT = array();
				$STUDENT_REQUIREMENT['PK_STUDENT_MASTER'] 		= $res_stu->fields['PK_STUDENT_MASTER'];
				$STUDENT_REQUIREMENT['PK_STUDENT_ENROLLMENT'] 	= $res_stu->fields['PK_STUDENT_ENROLLMENT'];;
				$STUDENT_REQUIREMENT['TYPE'] 				  	= 2;
				$STUDENT_REQUIREMENT['ID'] 				  		= $PK_CAMPUS_PROGRAM_REQUIREMENT;
				$STUDENT_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] = $PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'];
				$STUDENT_REQUIREMENT['REQUIREMENT'] 			= $PROGRAM_REQUIREMENT['REQUIREMENT'];
				$STUDENT_REQUIREMENT['MANDATORY'] 				= $PROGRAM_REQUIREMENT['MANDATORY'];
				$STUDENT_REQUIREMENT['PK_ACCOUNT']  			= $_SESSION['PK_ACCOUNT'];
				$STUDENT_REQUIREMENT['CREATED_BY']  			= $_SESSION['PK_USER'];
				$STUDENT_REQUIREMENT['CREATED_ON']  			= date("Y-m-d H:i");
				db_perform('S_STUDENT_REQUIREMENT', $STUDENT_REQUIREMENT, 'insert');

				$res_stu->MoveNext();
			}
		} else {
			$PK_CAMPUS_PROGRAM_REQUIREMENT 		= $_POST['PK_CAMPUS_PROGRAM_REQUIREMENT'][$i];
			$PROGRAM_REQUIREMENT['EDITED_BY']	= $_SESSION['PK_USER'];
			$PROGRAM_REQUIREMENT['EDITED_ON']  	= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_REQUIREMENT', $PROGRAM_REQUIREMENT, 'update'," PK_CAMPUS_PROGRAM_REQUIREMENT = '$PK_CAMPUS_PROGRAM_REQUIREMENT' ");
			
			$PK_CAMPUS_PROGRAM_REQUIREMENT_ARR[] = $PK_CAMPUS_PROGRAM_REQUIREMENT;
			
			if($PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] == 1)
				$query = $query_1." AND ADMISSIONS = 1 GROUP BY PK_STUDENT_ENROLLMENT ";
			else if($PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] == 2)
				$query = $query_1." AND COMPLETED = 0 GROUP BY PK_STUDENT_ENROLLMENT ";
				
			$res_stu = $db->Execute($query);
			while (!$res_stu->EOF) {
				$PK_STUDENT_ENROLLMENT 	= $res_stu->fields['PK_STUDENT_ENROLLMENT'];
				$STUDENT_REQUIREMENT 	= array();
				$STUDENT_REQUIREMENT['PK_REQUIREMENT_CATEGORY'] = $PROGRAM_REQUIREMENT['PK_REQUIREMENT_CATEGORY'];
				$STUDENT_REQUIREMENT['REQUIREMENT'] 			= $PROGRAM_REQUIREMENT['REQUIREMENT'];
				$STUDENT_REQUIREMENT['MANDATORY'] 				= $PROGRAM_REQUIREMENT['MANDATORY'];
				db_perform('S_STUDENT_REQUIREMENT', $STUDENT_REQUIREMENT, 'update'," PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND ID = '$PK_CAMPUS_PROGRAM_REQUIREMENT' AND PK_STUDENT_ENROLLMENT = '$PK_STUDENT_ENROLLMENT' AND TYPE = 2 ");

				$res_stu->MoveNext();
			}
		}
		
		$i++;
	}
	/* ticket #1059 */
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_REQUIREMENT_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_REQUIREMENT_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_REQUIREMENT NOT IN ($ids) ";
	}
	
	if($_GET['duplicate'] != 1) { //Ticket # 1160
		$res = $db->Execute("SELECT PK_CAMPUS_PROGRAM_REQUIREMENT, PK_REQUIREMENT_CATEGORY from M_CAMPUS_PROGRAM_REQUIREMENT WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' $cond");
		while (!$res->EOF) {
			$PK_CAMPUS_PROGRAM_REQUIREMENT = $res->fields['PK_CAMPUS_PROGRAM_REQUIREMENT'];
			
			if($res->fields['PK_REQUIREMENT_CATEGORY'] == 1)
				$query = $query_1." AND ADMISSIONS = 1 GROUP BY PK_STUDENT_ENROLLMENT ";
			else if($res->fields['PK_REQUIREMENT_CATEGORY'] == 2)
				$query = $query_1." AND COMPLETED = 0 GROUP BY PK_STUDENT_ENROLLMENT ";
					
			$res_stu = $db->Execute($query);
			while (!$res_stu->EOF) {
				$PK_STUDENT_ENROLLMENT = $res_stu->fields['PK_STUDENT_ENROLLMENT'];
				$db->Execute("DELETE from S_STUDENT_REQUIREMENT WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND ID = '$PK_CAMPUS_PROGRAM_REQUIREMENT' AND PK_STUDENT_ENROLLMENT = '$PK_STUDENT_ENROLLMENT' AND TYPE = 2 AND COMPLETED = 0 ");
				
				$res_stu->MoveNext();
			}
			
			$res->MoveNext();
		}
	} //Ticket # 1160
	
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_REQUIREMENT WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond ");
	
	$i = 0;
	foreach($_POST['ay_id'] as $hid){
		$PROGRAM_AY = array();
		$PROGRAM_AY['ACADEMIC_YEAR']  	= $_POST['AY_ACADEMIC_YEAR'][$i];
		$PROGRAM_AY['PERIOD']  			= $_POST['AY_PERIOD'][$i];
		$PROGRAM_AY['MONTHS']  			= $_POST['AY_MONTHS'][$i];
		$PROGRAM_AY['WEEKS'] 			= $_POST['AY_WEEKS'][$i];
		$PROGRAM_AY['UNITS']  			= $_POST['AY_UNITS'][$i];
		$PROGRAM_AY['HOUR']  			= $_POST['AY_HOUR'][$i];
		$PROGRAM_AY['FA_UNITS'] 		= $_POST['AY_FA_UNITS'][$i];
		$PROGRAM_AY['ACTIVE'] 		 	= $_POST['AY_ACTIVE_'.$hid];
		if($_POST['PK_CAMPUS_PROGRAM_AY'][$i] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
			$PROGRAM_AY['PK_CAMPUS_PROGRAM'] = $PK_CAMPUS_PROGRAM;
			$PROGRAM_AY['PK_ACCOUNT']  		 = $_SESSION['PK_ACCOUNT'];
			$PROGRAM_AY['CREATED_BY']  		 = $_SESSION['PK_USER'];
			$PROGRAM_AY['CREATED_ON']  		 = date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_AY', $PROGRAM_AY, 'insert');
			
			$PK_CAMPUS_PROGRAM_AY_ARR[] = $db->insert_ID();
		} else {
			$PROGRAM_AY['EDITED_BY']	= $_SESSION['PK_USER'];
			$PROGRAM_AY['EDITED_ON']  	= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_AY', $PROGRAM_AY, 'update'," PK_CAMPUS_PROGRAM_AY = '".$_POST['PK_CAMPUS_PROGRAM_AY'][$i]."' ");
			
			$PK_CAMPUS_PROGRAM_AY_ARR[] = $_POST['PK_CAMPUS_PROGRAM_AY'][$i];
		}
		
		$i++;
	}
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_AY_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_AY_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_AY NOT IN ($ids) ";
	}
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_AY WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond ");
	
	$i = 0;

	    // tution fee 30 May 2023
	// echo count($_POST['program_fee_id']);
	// echo "I am here";
	// exit;
	if(isset($_POST['program_fee_id']) && !empty($_POST['program_fee_id']) && count($_POST['program_fee_id'])>0)
	{

	foreach($_POST['program_fee_id'] as $hid){
		$PROGRAM_FEE = array();
		$PROGRAM_FEE['DAYS_FROM_START']  	= $_POST['DAYS_FROM_START'][$i]; //Ticket # 1151 
		$PROGRAM_FEE['PK_AR_LEDGER_CODE']  	= $_POST['PK_AR_LEDGER_CODE'][$i];
		$PROGRAM_FEE['PK_FEE_TYPE']  		= $_POST['PK_FEE_TYPE'][$i];
		$PROGRAM_FEE['DESCRIPTION']  		= $_POST['FEE_DESCRIPTION'][$i];
		$PROGRAM_FEE['AMOUNT'] 				= $_POST['FEE_AMOUNT'][$i];
		$PROGRAM_FEE['AY']  				= $_POST['FEE_AY'][$i];
		$PROGRAM_FEE['AP']  				= $_POST['FEE_AP'][$i];
		$PROGRAM_FEE['PK_DEPENDENT_STATUS'] = $_POST['PK_DEPENDENT_STATUS'][$i];
		$PROGRAM_FEE['PK_HOUSING_TYPE'] 	= $_POST['PK_HOUSING_TYPE'][$i];
		//$PROGRAM_FEE['PK_GE_DISCLOSURE'] 	= $_POST['PK_GE_DISCLOSURE'][$i]; Ticket # 1528
		$PROGRAM_FEE['ACTIVE'] 		 		= $_POST['FEE_ACTIVE_'.$hid];
		$PROGRAM_FEE['PROGRAM_FEE_PK_PAYMENT_FREQUENCY'] 	= $_POST['PROGRAM_FEE_PK_PAYMENT_FREQUENCY'][$i]; //Ticket # 1224 
		$PROGRAM_FEE['PROGRAM_FEE_NO_OF_PAYMENTS'] 			= $_POST['PROGRAM_FEE_NO_OF_PAYMENTS'][$i]; //Ticket # 1224 
		if($_POST['PK_CAMPUS_PROGRAM_FEE'][$i] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
			$PROGRAM_FEE['PK_CAMPUS_PROGRAM'] = $PK_CAMPUS_PROGRAM;
			$PROGRAM_FEE['PK_ACCOUNT']  		 = $_SESSION['PK_ACCOUNT'];
			$PROGRAM_FEE['CREATED_BY']  		 = $_SESSION['PK_USER'];
			$PROGRAM_FEE['CREATED_ON']  		 = date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_FEE', $PROGRAM_FEE, 'insert');
			
			$PK_CAMPUS_PROGRAM_FEE_ARR[] = $db->insert_ID();
		} else {
			$PROGRAM_FEE['EDITED_BY']	= $_SESSION['PK_USER'];
			$PROGRAM_FEE['EDITED_ON']  	= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_FEE', $PROGRAM_FEE, 'update'," PK_CAMPUS_PROGRAM_FEE = '".$_POST['PK_CAMPUS_PROGRAM_FEE'][$i]."' ");
			
			$PK_CAMPUS_PROGRAM_FEE_ARR[] = $_POST['PK_CAMPUS_PROGRAM_FEE'][$i];
		}
		
		$i++;
	}
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_FEE_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_FEE_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_FEE NOT IN ($ids) ";
	}
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_FEE WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond ");
	
	}else if(isset($_POST['delete_row_program_fee_id']) && !empty($_POST['delete_row_program_fee_id'])){ //DIAM-786

		if(!empty($_POST['delete_row_program_fee_id'])){
			$ids = $_POST['delete_row_program_fee_id'];
			$db->Execute("DELETE from M_CAMPUS_PROGRAM_FEE WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_CAMPUS_PROGRAM_FEE IN ($ids) ");
			//echo "DELETE from M_CAMPUS_PROGRAM_FEE WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_CAMPUS_PROGRAM_FEE IN ($ids) ";			
		}	
			
	}
	//DIAM-786
	/////////////////////////////////
	// program course tab  30 May 2023
	$i = 0;
	if(isset($_POST['PROGRAM_COURSE_ID']) && !empty($_POST['PROGRAM_COURSE_ID'])){

	foreach($_POST['PROGRAM_COURSE_ID'] as $hid){
		$PROGRAM_COURSE_ID = $_POST['PROGRAM_COURSE_ID'][$i];
		$PROGRAM_COURSE = array();
		$PROGRAM_COURSE['PK_COURSE']  		= $_POST['COURSE_PK_COURSE'][$i];
		$PROGRAM_COURSE['PK_COREQUISITE']   = implode(",",$_POST['COURSE_PK_COREQUISITE_'.$PROGRAM_COURSE_ID]);
		$PROGRAM_COURSE['PK_PREREQUISITE']  = implode(",",$_POST['COURSE_PK_PREREQUISITE_'.$PROGRAM_COURSE_ID]);
		$PROGRAM_COURSE['COURSE_ORDER']  	= $_POST['COURSE_ORDER'][$i];
		$PROGRAM_COURSE['COURSE_TYPE']  	= $_POST['COURSE_TYPE'][$i];
		$PROGRAM_COURSE['ACTIVE'] 		 	= $_POST['COURSE_ACTIVE_'.$hid];
		
		$PROGRAM_COURSE['PK_TRANSCRIPT_GROUP']  = $_POST['COURSE_PK_TRANSCRIPT_GROUP'][$i]; //Ticket # 1834
		/* Ticket # 1603 */
		if($_POST['USE_TRANSCRIPT_GROUP'] == 0)
			$PROGRAM_COURSE['PK_TRANSCRIPT_GROUP'] = 0;
		/* Ticket # 1603 */

		$PROGRAM_COURSE['GRADE_INCLUDE_IN_SAP']  = $_POST['GRADE_PROGRAM_COURSE_SAP'][$i]; // DIAM - 23, DIAM - 678
		
		if($_POST['PK_CAMPUS_PROGRAM_COURSE'][$i] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
			$PROGRAM_COURSE['PK_CAMPUS_PROGRAM'] = $PK_CAMPUS_PROGRAM;
			$PROGRAM_COURSE['PK_ACCOUNT']  		 = $_SESSION['PK_ACCOUNT'];
			$PROGRAM_COURSE['CREATED_BY']  		 = $_SESSION['PK_USER'];
			$PROGRAM_COURSE['CREATED_ON']  		 = date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_COURSE', $PROGRAM_COURSE, 'insert');

			$PK_CAMPUS_PROGRAM_COURSE_ARR[] = $db->insert_ID();
		} else {
			$PROGRAM_COURSE['EDITED_BY']	= $_SESSION['PK_USER'];
			$PROGRAM_COURSE['EDITED_ON']  	= date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_COURSE', $PROGRAM_COURSE, 'update'," PK_CAMPUS_PROGRAM_COURSE = '".$_POST['PK_CAMPUS_PROGRAM_COURSE'][$i]."' ");
			
			$PK_CAMPUS_PROGRAM_COURSE_ARR[] = $_POST['PK_CAMPUS_PROGRAM_COURSE'][$i];
		}
		
		$i++;
	}
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_COURSE_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_COURSE_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_COURSE NOT IN ($ids) ";
	}
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_COURSE WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond ");
}
	/////////////////////////////////
	
	$i = 0;
	// Program Award Tab  30 May 2023
	if(isset($_POST['PK_CAMPUS_PROGRAM_AWARD']) && !empty($_POST['PK_CAMPUS_PROGRAM_AWARD'])){
	
	foreach($_POST['PK_CAMPUS_PROGRAM_AWARD'] as $hid){
		$PROGRAM_AWARD = array();
		$PROGRAM_AWARD['DAYS_FROM_START']  		= $_POST['AWARD_DAYS_FROM_START'][$i];
		$PROGRAM_AWARD['PK_AR_LEDGER_CODE']  	= $_POST['AWARD_PK_AR_LEDGER_CODE'][$i];
		$PROGRAM_AWARD['ACADEMIC_YEAR']  		= $_POST['AWARD_ACADEMIC_YEAR'][$i];
		$PROGRAM_AWARD['ACADEMIC_PERIOD']  		= $_POST['AWARD_ACADEMIC_PERIOD'][$i];
		$PROGRAM_AWARD['GROSS_AMOUNT']  		= $_POST['AWARD_GROSS_AMOUNT'][$i];
		$PROGRAM_AWARD['FEE_AMOUNT']  			= $_POST['AWARD_FEE_AMOUNT'][$i];
		$PROGRAM_AWARD['NET_AMOUNT']  			= $_POST['AWARD_NET_AMOUNT'][$i];
		$PROGRAM_AWARD['PK_DEPENDENT_STATUS']  	= $_POST['AWARD_PK_DEPENDENT_STATUS'][$i];
		$PROGRAM_AWARD['HOURS_REQUIRED']  		= $_POST['AWARD_HOURS_REQUIRED'][$i];
		$PROGRAM_AWARD['NO_OF_PAYMENTS']  		= $_POST['AWARD_NO_OF_PAYMENTS'][$i];
		$PROGRAM_AWARD['PK_PAYMENT_FREQUENCY']  = $_POST['AWARD_PK_PAYMENT_FREQUENCY'][$i];
		
		if($_POST['PK_CAMPUS_PROGRAM_AWARD'][$i] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
			$PROGRAM_AWARD['PK_CAMPUS_PROGRAM']  = $PK_CAMPUS_PROGRAM;
			$PROGRAM_AWARD['PK_ACCOUNT']  		 = $_SESSION['PK_ACCOUNT'];
			$PROGRAM_AWARD['CREATED_BY']  		 = $_SESSION['PK_USER'];
			$PROGRAM_AWARD['CREATED_ON']  		 = date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_AWARD', $PROGRAM_AWARD, 'insert');

			$PK_CAMPUS_PROGRAM_AWARD_ARR[] = $db->insert_ID();
		} else {
			$PROGRAM_AWARD['EDITED_BY']	 = $_SESSION['PK_USER'];
			$PROGRAM_AWARD['EDITED_ON']  = date("Y-m-d H:i");
			db_perform('M_CAMPUS_PROGRAM_AWARD', $PROGRAM_AWARD, 'update'," PK_CAMPUS_PROGRAM_AWARD = '".$_POST['PK_CAMPUS_PROGRAM_AWARD'][$i]."' AND PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
			
			$PK_CAMPUS_PROGRAM_AWARD_ARR[] = $_POST['PK_CAMPUS_PROGRAM_AWARD'][$i];
		}
		
		$i++;
	}
	
	$cond = '';	
	if(!empty($PK_CAMPUS_PROGRAM_AWARD_ARR)){
		$ids = implode(",",$PK_CAMPUS_PROGRAM_AWARD_ARR);
		$cond = " AND PK_CAMPUS_PROGRAM_AWARD NOT IN ($ids) ";
	}
	$db->Execute("DELETE from M_CAMPUS_PROGRAM_AWARD WHERE PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
}
	////////////////////////////////
	$i = 0;
	foreach($_POST['GRADE_CUNT'] as $GRADE_CUNT){
		$PROGRAM_GRADE = array();
		$PROGRAM_GRADE['PK_GRADE_BOOK_CODE'] 	= $_POST['GRADE_PK_GRADE_BOOK_CODE'][$i];
		$PROGRAM_GRADE['DESCRIPTION'] 			= $_POST['GRADE_DESCRIPTION'][$i];
		$PROGRAM_GRADE['PK_GRADE_BOOK_TYPE'] 	= $_POST['PK_GRADE_BOOK_TYPE'][$i];
		$PROGRAM_GRADE['DATE'] 					= $_POST['GRADE_DATE'][$i];
		$PROGRAM_GRADE['SESSION'] 				= $_POST['GRADE_SESSION'][$i];
		$PROGRAM_GRADE['HOUR'] 					= $_POST['GRADE_HOUR'][$i];
		$PROGRAM_GRADE['POINTS'] 				= $_POST['GRADE_POINTS'][$i];
		if (isset($_POST['GRADE_INCLUDE_IN_SAP'][$i])) {
			$PROGRAM_GRADE['INCLUDE_IN_SAP'] = $_POST['GRADE_INCLUDE_IN_SAP'][$i];
		}
		
		if($PROGRAM_GRADE['DATE'] != '')
			$PROGRAM_GRADE['DATE'] = date("Y-m-d",strtotime($PROGRAM_GRADE['DATE']));
		else
			$PROGRAM_GRADE['DATE'] = '';

		if($_POST['PK_PROGRAM_GRADE_BOOK'][$i] == '' || $_GET['duplicate'] == 1){ //Ticket # 1160
			$PROGRAM_GRADE['PK_CAMPUS_PROGRAM']  	= $PK_CAMPUS_PROGRAM;
			$PROGRAM_GRADE['PK_ACCOUNT']  			= $_SESSION['PK_ACCOUNT'];
			$PROGRAM_GRADE['CREATED_BY']  			= $_SESSION['PK_USER'];
			$PROGRAM_GRADE['CREATED_ON']  			= date("Y-m-d H:i");
			db_perform('S_PROGRAM_GRADE_BOOK', $PROGRAM_GRADE, 'insert');
			$PK_PROGRAM_GRADE_BOOK = $db->insert_ID;
			
			$PK_PROGRAM_GRADE_BOOK_ARR[] = $PK_PROGRAM_GRADE_BOOK;
			
		} else {
			$PK_PROGRAM_GRADE_BOOK = $_POST['PK_PROGRAM_GRADE_BOOK'][$i];
			$PROGRAM_GRADE['EDITED_BY'] = $_SESSION['PK_USER'];
			$PROGRAM_GRADE['EDITED_ON'] = date("Y-m-d H:i");
			db_perform('S_PROGRAM_GRADE_BOOK', $PROGRAM_GRADE, 'update'," PK_PROGRAM_GRADE_BOOK = '$PK_PROGRAM_GRADE_BOOK' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_PROGRAM_GRADE_BOOK = '$PK_PROGRAM_GRADE_BOOK' ");
			
			$PK_PROGRAM_GRADE_BOOK_ARR[] = $PK_PROGRAM_GRADE_BOOK;
		}
		
		$i++;
	}

	$cond = '';
	if(!empty($PK_PROGRAM_GRADE_BOOK_ARR))
		$cond = " AND PK_PROGRAM_GRADE_BOOK NOT IN (".implode(",",$PK_PROGRAM_GRADE_BOOK_ARR).")";
	$db->Execute("DELETE from S_PROGRAM_GRADE_BOOK WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_PROGRAM_GRADE_BOOK = '$PK_PROGRAM_GRADE_BOOK' $cond");
	////////////////////////////////
	
/*	$i = 0;
	foreach($_POST['GRADE_INPUT_PK_STUDENT_PROGRAM_GRADE'] as $PK_STUDENT_PROGRAM_GRADE){
		$PK_STUDENT_PROGRAM_GRADE_ARR[] =  grade_input($PK_STUDENT_PROGRAM_GRADE,$_POST['GRADE_INPUT_PK_STUDENT_ENROLLMENT'][$i],$_POST['GRADE_INPUT_GRADE'][$i],$_POST['GRADE_PK_COURSE_OFFERING_STUDENT_STATUS'][$i],$_POST['GRADE_INPUT_INACTIVE'][$i] ,$_POST['GRADE_INPUT_MIDPOINT_GRADE'][$i] ,$_POST['GRADE_INPUT_DETAIL'][$i] ,$_POST['GRADE_INPUT_NUMERIC_GRADE'][$i],$PK_CAMPUS_PROGRAM);
		
		$i++;
	}
	
	$cond = '';
	if(!empty($PK_STUDENT_PROGRAM_GRADE_ARR))
		$cond = " AND PK_STUDENT_PROGRAM_GRADE NOT IN (".implode(",",$PK_STUDENT_PROGRAM_GRADE_ARR).")";
	$db->Execute("DELETE from S_STUDENT_PROGRAM_GRADE WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$PK_CAMPUS_PROGRAM' $cond");
*/
	if($_POST['SAVE_CONTINUE'] == 0)
		header("location:manage_program");
	else
		header("location:program?id=".$PK_CAMPUS_PROGRAM."&tab=".str_replace("#","",$_POST['current_tab']));
}
if($_GET['id'] == ''){
	$PROGRAM_TRANSCRIPT_CODE = '';
	$CODE 					 = '';
	$PK_CAMPUS 				 = '';
	$DESCRIPTION 			 = '';
	
	/* Ticket # 2025  */
	$res = $db->Execute("SELECT PK_CAMPUS from S_CAMPUS WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND ACTIVE = 1");
	if($res->RecordCount() == 1)
		$PK_CAMPUS = $res->fields['PK_CAMPUS'];
	/* Ticket # 2025  */
	
	$PK_SESSION 		= '';
	$UNITS 				= '';
	$FA_UNITS 			= '';
	$UNIT_COST 			= '';
	$FA_CODE 			= '';
	$CAPACITY 			= '';
	$DIPLOMA 			= '';
	$PK_PROGRAM_GROUP 	= '';
	$PK_TUITION_TYPE 	= '';
	$CLOCK_CREDIT 		= '';
	$PK_GRADE_SCALE_MASTER 	= '';
	$YEARS 				= '';
	$MONTHS 			= '';
	$WEEKS 				= '';
	$HOURS 				= '';
	$ACTIVE	 			= '';
	$USE_TRANSCRIPT_GROUP	 		   = ''; //Ticket # 1603
	$PK_ENROLLMENT_STATUS_SCALE_MASTER = '';
	
	$DAILY_HOURS_SUNDAY 	= '';
	$DAILY_HOURS_MONDAY 	= '';
	$DAILY_HOURS_TUESDAY 	= '';
	$DAILY_HOURS_WEDNESDAY 	= '';
	$DAILY_HOURS_THURSDAY 	= '';
	$DAILY_HOURS_FRIDAY 	= '';
	$DAILY_HOURS_SATURDAY 	= '';
	$NOTES 					= '';
	$CIP_CODE 				= '';
	$CIP_YEAR               = '';
	$CIP_DEFINITION 		= '';
	$PK_SPECIAL_PROGRAM_INDICATOR = '';
	
	$PK_CREDENTIAL_LEVEL 	= '';
	$GE_PROGRAM 			= '';
	$MED_DEN_RESI 			= '';
	$FISAP 					= '';
	$_1098T 				= '';
	$_90_10_Report 			= '';
	$ABHES 					= '';
	$TERM_DAYS 				= '';
	$TERM_MONTHS 			= '';
	$PK_ENROLLMENT_STATUS 	= '';
	$PK_EARNING_TYPE 		= '';
	$USE_PROGRAM_GRADE		= '';
	//DIAM-2124
	$PROGRAM_TYPE_OPT 					= '';
	$PROGRAM_HOURS_OPT 					= '';
	$PROGRAM_FA_UNITS_OPT 				= '';
	$PROGRAM_UNITS_OPT 					= '';
	$PROGRAM_LENGTH_IN_HOURS_OPT 		= '';
	$PROGRAM_LENGTH_IN_MONTHS_OPT 		= '';
	$PROGRAM_LENGTH_IN_WEEKS_OPT 		= '';
	$OFFER_LETTER_COA_OPT 				= '';
	//DIAM-2124
	/* Ticket # 1169 */
	$BOX_1 = '';
	$BOX_2 = '';
	$BOX_3 = '';
	$BOX_4 = '';
	$BOX_5 = '';
	$BOX_6 = '';
	$BOX_7 = '';
	$BOX_8 = '';
	$BOX_9 = '';
	/* Ticket # 1169 */
	
	/* Ticket # 1595 */
	$SCHOOL_HEADER_OPTION 	= '';
	$LOGO_OPTION 			= '';
	/* Ticket # 1595 */
	
	/* Ticket # 1682 */
	$MEASUREMENT_TYPE 	= '';
	$EXCLUDE_HOLIDAYS 	= '';
	$EXCLUDE_BREAKS 	= '';
	$EXCLUDE_CLOSURES 	= '';
	$EXCLUDE_LOA 		= '';
	/* Ticket # 1682 */

	$PK_SAP_SCALE  		= '';// DIAM - 24, DIAM - 677
	
	
	//DIAM-2365 
	$GE_YEARS 				 	 = '';
	$GE_MONTHS 				 	 = '';
	$GE_WEEKS 					 = '';
	//DIAM-2365 
	
} else {
	$table = "";
	if($_SESSION['PK_ROLES'] == 3) {
		$table = ", M_CAMPUS_PROGRAM_CAMPUS ";
		$cond = " AND M_CAMPUS_PROGRAM_CAMPUS.PK_CAMPUS IN ($_SESSION[PK_CAMPUS]) AND M_CAMPUS_PROGRAM_CAMPUS.PK_CAMPUS_PROGRAM = M_CAMPUS_PROGRAM.PK_CAMPUS_PROGRAM ";
	} else 
		$cond = " AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ";
		
	$res = $db->Execute("SELECT M_CAMPUS_PROGRAM.* FROM M_CAMPUS_PROGRAM $table WHERE M_CAMPUS_PROGRAM.PK_CAMPUS_PROGRAM = '$_GET[id]' $cond "); 
	if($res->RecordCount() == 0){
		header("location:manage_program");
		exit;
	}
	$PROGRAM_TRANSCRIPT_CODE = $res->fields['PROGRAM_TRANSCRIPT_CODE'];
	$PK_CREDENTIAL_LEVEL 	 = $res->fields['PK_CREDENTIAL_LEVEL'];
	$CODE 					 = $res->fields['CODE'];
	$PK_CAMPUS 				 = $res->fields['PK_CAMPUS'];
	$DESCRIPTION 			 = $res->fields['DESCRIPTION'];
	$PK_SESSION 			 = $res->fields['PK_SESSION'];
	$UNITS 					 = $res->fields['UNITS'];
	$FA_UNITS 				 = $res->fields['FA_UNITS'];
	$UNIT_COST 				 = $res->fields['UNIT_COST'];
	$FA_CODE 				 = $res->fields['FA_CODE'];
	$CAPACITY 				 = $res->fields['CAPACITY'];
	$DIPLOMA 				 = $res->fields['DIPLOMA'];
	$PK_PROGRAM_GROUP 		 = $res->fields['PK_PROGRAM_GROUP'];
	$PK_TUITION_TYPE 		 = $res->fields['PK_TUITION_TYPE'];
	$CLOCK_CREDIT 			 = $res->fields['CLOCK_CREDIT'];
	$PK_GRADE_SCALE_MASTER 	 = $res->fields['PK_GRADE_SCALE_MASTER'];
	$YEARS 				 	 = $res->fields['YEARS'];
	$MONTHS 				 = $res->fields['MONTHS'];
	$WEEKS 					 = $res->fields['WEEKS'];
	$HOURS 					 = $res->fields['HOURS'];
	$ACTIVE  				 = $res->fields['ACTIVE'];
	$USE_PROGRAM_GRADE		 = $res->fields['USE_PROGRAM_GRADE'];
	
	//DIAM-2365 
	$GE_YEARS 				 	 = $res->fields['YEARS'];
	$GE_MONTHS 				 	 = $res->fields['MONTHS'];
	$GE_WEEKS 					 = $res->fields['WEEKS'];
	//DIAM-2365 
	
	$USE_TRANSCRIPT_GROUP	 		   = $res->fields['USE_TRANSCRIPT_GROUP']; //Ticket # 1603
	$PK_ENROLLMENT_STATUS_SCALE_MASTER = $res->fields['PK_ENROLLMENT_STATUS_SCALE_MASTER'];
	
	$DAILY_HOURS_SUNDAY 	= $res->fields['DAILY_HOURS_SUNDAY'];
	$DAILY_HOURS_MONDAY 	= $res->fields['DAILY_HOURS_MONDAY'];
	$DAILY_HOURS_TUESDAY 	= $res->fields['DAILY_HOURS_TUESDAY'];
	$DAILY_HOURS_WEDNESDAY 	= $res->fields['DAILY_HOURS_WEDNESDAY'];
	$DAILY_HOURS_THURSDAY 	= $res->fields['DAILY_HOURS_THURSDAY'];
	$DAILY_HOURS_FRIDAY 	= $res->fields['DAILY_HOURS_FRIDAY'];
	$DAILY_HOURS_SATURDAY 	= $res->fields['DAILY_HOURS_SATURDAY'];
	$NOTES 					= $res->fields['NOTES'];
	$CIP_CODE 				= $res->fields['CIP_CODE'];
	$CIP_YEAR 				= $res->fields['CIP_YEAR'];
	$CIP_DEFINITION 		= $res->fields['CIP_DEFINITION'];
	
	$PK_SPECIAL_PROGRAM_INDICATOR = $res->fields['PK_SPECIAL_PROGRAM_INDICATOR'];

	$PK_SAP_SCALE  			= $res->fields['PK_SAP_SCALE'];// DIAM - 24, DIAM - 677
	
	/* Ticket # 1682 */
	$MEASUREMENT_TYPE 	= $res->fields['MEASUREMENT_TYPE'];
	$EXCLUDE_HOLIDAYS 	= $res->fields['EXCLUDE_HOLIDAYS'];
	$EXCLUDE_BREAKS 	= $res->fields['EXCLUDE_BREAKS'];
	$EXCLUDE_CLOSURES 	= $res->fields['EXCLUDE_CLOSURES'];
	$EXCLUDE_LOA 		= $res->fields['EXCLUDE_LOA'];
	/* Ticket # 1682 */
	
	$res = $db->Execute("SELECT * FROM M_CAMPUS_PROGRAM_ANALYTICS_SETUP WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' "); 
	$GE_PROGRAM 			= $res->fields['GE_PROGRAM'];
	$MED_DEN_RESI 			= $res->fields['MED_DEN_RESI'];
	$FISAP 					= $res->fields['FISAP'];
	$_1098T 				= $res->fields['_1098T'];
	$_90_10_Report 			= $res->fields['_90_10_Report'];
	$ABHES 					= $res->fields['ABHES'];
	$TERM_DAYS 				= $res->fields['TERM_DAYS'];
	$TERM_MONTHS 			= $res->fields['TERM_MONTHS'];
	$PK_ENROLLMENT_STATUS 	= $res->fields['PK_ENROLLMENT_STATUS'];
	$PK_EARNING_TYPE 		= $res->fields['PK_EARNING_TYPE'];
	
	//DIAM-2124
	$PROGRAM_TYPE_OPT 					= $res->fields['PROGRAM_TYPE_OPT'];
	$PROGRAM_HOURS_OPT 					= $res->fields['PROGRAM_HOURS_OPT'];
	$PROGRAM_FA_UNITS_OPT 				= $res->fields['PROGRAM_FA_UNITS_OPT'];
	$PROGRAM_UNITS_OPT 					= $res->fields['PROGRAM_UNITS_OPT'];
	$PROGRAM_LENGTH_IN_HOURS_OPT 		= $res->fields['PROGRAM_LENGTH_IN_HOURS_OPT'];
	$PROGRAM_LENGTH_IN_MONTHS_OPT 		= $res->fields['PROGRAM_LENGTH_IN_MONTHS_OPT'];
	$PROGRAM_LENGTH_IN_WEEKS_OPT 		= $res->fields['PROGRAM_LENGTH_IN_WEEKS_OPT'];
	$OFFER_LETTER_COA_OPT 				= $res->fields['OFFER_LETTER_COA_OPT'];
	//DIAM-2124
	
	/* Ticket # 1169 */
	$res = $db->Execute("SELECT * FROM M_CAMPUS_PROGRAM_REPORT_HEADER WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' "); 
	$BOX_1 = $res->fields['BOX_1'];
	$BOX_2 = $res->fields['BOX_2'];
	$BOX_3 = $res->fields['BOX_3'];
	$BOX_4 = $res->fields['BOX_4'];
	$BOX_5 = $res->fields['BOX_5'];
	$BOX_6 = $res->fields['BOX_6'];
	$BOX_7 = $res->fields['BOX_7'];
	$BOX_8 = $res->fields['BOX_8'];
	$BOX_9 = $res->fields['BOX_9'];
	/* Ticket # 1169 */
	
	/* Ticket # 1595 */
	$SCHOOL_HEADER_OPTION 	= $res->fields['SCHOOL_HEADER_OPTION'];
	$LOGO_OPTION 			= $res->fields['LOGO_OPTION'];
	/* Ticket # 1595 */
}

/* Ticket # 1160   */
if($_GET['duplicate'] == 1) {
	$PROGRAM_TRANSCRIPT_CODE = '';
	$CODE 					 = '';
	$DESCRIPTION			 = '';
}
/* Ticket # 1160   */

if($_GET['tab'] == 'generalTab')
	$general_tab = 'active';
else if($_GET['tab'] == 'requirementTab')
	$requirement_tab = 'active';
else if($_GET['tab'] == 'schoolRequirementTab')
	$school_requirement_tab = 'active';
else if($_GET['tab'] == 'ayTab')
	$ay_tab = 'active';
else if($_GET['tab'] == 'programFeeTab')
	$program_fee_tab = 'active';
else if($_GET['tab'] == 'programCourseTab')
	$program_course_tab = 'active';
else if($_GET['tab'] == 'analyticsSetupTab')
	$analytics_setup_tab = 'active';
else if($_GET['tab'] == 'awardTab')
	$award_setup_tab = 'active';
else if($_GET['tab'] == 'gradeTab')
	$grade_tab = 'active';	
else if($_GET['tab'] == 'gradeInputTab')
	$grade_input_tab = 'active';
else if($_GET['tab'] == 'reportHeaderTab') /* Ticket # 1169   */
	$report_header_tab = 'active'; /* Ticket # 1169   */
else if($_GET['tab'] == 'gainfulEmployementTab') /* DIAM-2365   */
	$gainful_employment_tab = 'active'; /* DIAM-2365   */	
else
	$general_tab = 'active';
?>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<? require_once("css.php"); ?>
	<link rel="stylesheet" type="text/css" href="../backend_assets/dist/css/easyui.css">

	<title><?=PROGRAM_PAGE_TITLE?> | <?=$title?></title>
	<style>
		.list-group .list-group-item {border-radius: 0;cursor: move;}
		.list-group .list-group-item:hover {background-color: #f7f7f7;}
	
		.no-records-found{display:none;}
		li > a > label{position: unset !important;}
		
		/* Ticket # 1697 */
		.option_red > a > label{color:red !important}
		/* Ticket # 1697 */
		.dropdown-menu>li>a { white-space: nowrap; } /* Ticket # 1740  */
		
		.multiselect-container > .active {background: #ddd !important;} /* Ticket #1917 */
		.multiselect-container > li:hover {background: #ddd !important;} /* Ticket #1917 */
				/* Ticket #1917 */
				.disableElement{
	pointer-events: none;
	cursor: pointer;
}
.enableElement{
  background-color:#d3d3d3 !important;
}
		.lds-ring {
	position: absolute;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	margin: auto;
	width: 64px;
	height: 64px;
}

.lds-ring div {
	box-sizing: border-box;
	display: block;
	position: absolute;
	width: 51px;
	height: 51px;
	margin: 6px;
	border: 6px solid #0066ac;
	border-radius: 50%;
	animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
	border-color: #007bff transparent transparent transparent;
}

.lds-ring div:nth-child(1) {
	animation-delay: -0.45s;
}

.lds-ring div:nth-child(2) {
	animation-delay: -0.3s;
}

.lds-ring div:nth-child(3) {
	animation-delay: -0.15s;
}

@keyframes lds-ring {
	0% {
		transform: rotate(0deg);
	}

	100% {
		transform: rotate(360deg);
	}
}

#loaders {
	position: fixed;
	width: 100%;
	z-index: 9999;
	bottom: 0;
	background-color: #2c3e50;
	display: block;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	opacity: 0.6;
	display: none;
}
	/* DIAM-2365 */
	#GE_LENGTH_OF_PROGRAM, input::-webkit-outer-spin-button,
	#GE_LENGTH_OF_PROGRAM, input::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	/* Firefox */
	#GE_LENGTH_OF_PROGRAM, input[type=number] {
		-moz-appearance: textfield;
	}
	#GEemployment label{
		margin-top : -20px !important;
		/* font-size : 12px !important; */
		
	}
	#GEemployment .focused label{
		margin-top : -5px !important;
		/* font-size : 12px !important; */
		
	}
	/* DIAM-2365 */
	</style>
</head>

<body class="horizontal-nav boxed skin-megna fixed-layout">
   <? require_once("pre_load.php"); ?>
   <div id="loaders" style="display: none;">
		<div class="lds-ring">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
	</div>
    <div id="main-wrapper">
       <? require_once("menu.php"); ?>
        <div class="page-wrapper">
            <div class="container-fluid">
                 <div class="row page-titles">
                    <div class="col-md-12 align-self-center">
                       <!-- Ticket # 1450 -->
                        <h4 class="text-themecolor">
							<? if($_GET['id'] == '') echo ADD; else echo EDIT; ?> <?=PROGRAM?> 
							<? if($_GET['id'] != '') echo " - ".$CODE; ?>
						</h4>
						<!-- Ticket # 1450 -->
                    </div>
                </div>
				<form class="floating-labels m-t-40" method="post" name="form1" id="form1" >
					<div class="row">
						<div class="col-12">
							<div class="card">
								<ul class="nav nav-tabs customtab" role="tablist">
									<li class="nav-item"> <a class="nav-link <?=$general_tab?>" data-toggle="tab" href="#generalTab" role="tab"><span class="hidden-sm-up"><i class="ti-home"></i></span> <span class="hidden-xs-down"><?=TAB_INFO?></span></a> </li>
									
									<? if($_GET['id'] != ''){ ?>
									<li class="nav-item"> <a class="nav-link <?=$requirement_tab?>" data-toggle="tab" href="#requirementTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_REQUIREMENT?></span></a> </li>
									
									<li class="nav-item"> <a class="nav-link <?=$school_requirement_tab?>" data-toggle="tab" href="#schoolRequirementTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_SCHOOL_REQUIREMENT?></span></a> </li>
									
									<li class="nav-item"> <a class="nav-link <?=$ay_tab?>" data-toggle="tab" href="#ayTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_AY_INFO?></span></a> </li>
									
									<li class="nav-item" onclick="AjaxProgramTutionFeeTab(<?=$_GET['id']?>);"> <a class="nav-link <?= $program_fee_tab ?>" data-toggle="tab" href="#programFeeTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?= TAB_TUITION_FEE ?></span></a> </li>

									<li class="nav-item" onclick="AjaxProgramCoursesTab(<?=$_GET['id']?>)"> <a class="nav-link <?= $program_course_tab ?>" data-toggle="tab" href="#programCourseTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?= TAB_PROGRAM_COURSE ?></span></a> </li>

									<li class="nav-item"> <a class="nav-link <?=$analytics_setup_tab?>" data-toggle="tab" href="#analyticsSetupTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_ANALYTICS_SETUP?></span></a> </li>
									
									<li class="nav-item" onclick="AjaxProgramFinacePlanAwardTab(<?=$_GET['id']?>)"> <a class="nav-link <?= $award_setup_tab ?>" data-toggle="tab" href="#awardTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?= TAB_FINANCIAL_PLAN ?></span></a> </li>
									
									<li class="nav-item"> <a class="nav-link <?=$grade_tab?>" data-toggle="tab" href="#gradeTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_GRADE?></span></a> </li>
									
									<!-- Ticket # 1169  -->
									<li class="nav-item"> <a class="nav-link <?=$report_header_tab?>" data-toggle="tab" href="#reportHeaderTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_REPORT_HEADER?></span></a> </li>
									<!-- Ticket # 1169  -->
									
									<!--DIAM-2365  -->
									<li class="nav-item"> <a class="nav-link <?=$gainful_employment_tab?>" data-toggle="tab" href="#gainfulEmployementTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_GAINFUL_EMPLOYMENT?></span></a> </li>
									<!-- DIAM-2365  -->
									<!--<li class="nav-item"> <a class="nav-link <?=$grade_input_tab?>" data-toggle="tab" href="#gradeInputTab" role="tab"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down"><?=TAB_GRADE_INPUT?></span></a> </li>-->
									<? } ?>
								</ul>
								
								<div class="card-body">
									<div class="tab-content">
										<div class="tab-pane <?=$general_tab?>" id="generalTab" role="tabpanel">
											<div class="p-20">
												
												<div class="row">
													<div class="col-md-3">
														<div class="col-12 col-sm-12 focused">
															<span class="bar"></span> 
															<label for="CAMPUS"><?=CAMPUS?></label>
														</div>
														<div class="col-12 col-sm-12 form-group row" >
															<? $cond = "";
															if($_SESSION['PK_ROLES'] == 3 && $_GET['id'] == '')
																$cond = " AND PK_CAMPUS IN ($_SESSION[PK_CAMPUS]) "; ?>
															<select id="PK_CAMPUS" name="PK_CAMPUS[]" multiple class="form-control" >
																<? /* Ticket #1697  */
																$res_type = $db->Execute("select CAMPUS_CODE,PK_CAMPUS, ACTIVE from S_CAMPUS WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' order by ACTIVE DESC, CAMPUS_CODE ASC");
																while (!$res_type->EOF) { 
																	$option_label = $res_type->fields['CAMPUS_CODE'];
																	if($res_type->fields['ACTIVE'] == 0)
																		$option_label .= " (Inactive)";
																		
																	$selected = '';
																	$PK_CAMPUS = $res_type->fields['PK_CAMPUS'];
																	$res = $db->Execute("select PK_CAMPUS_PROGRAM_CAMPUS FROM M_CAMPUS_PROGRAM_CAMPUS WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' AND PK_CAMPUS = '$PK_CAMPUS' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
																	if($res->RecordCount() > 0 || ($res_type->RecordCount() == 1 && $_GET['id'] == '')) //Ticket #849 
																		$selected = 'selected'; ?>
																	<option value="<?=$res_type->fields['PK_CAMPUS']?>" <?=$selected?> <? if($res_type->fields['ACTIVE'] == 0) echo "class='option_red'"; ?> ><?=$option_label ?></option>
																<?	$res_type->MoveNext();
																} /* Ticket #1697  */ ?>
															</select>
														</div>
													</div>
													
													<div class="col-md-2">
														<div class="form-group m-b-40">
															<input type="text" class="form-control required-entry" id="CODE" name="CODE" value="<?=$CODE?>" onBlur="duplicate_check()" error_label="<?=CODE?> - <?=TAB_INFO?>" > <!-- Ticket # 1160 -->
															<span class="bar"></span>
															<label for="CODE"><?=CODE?></label>
															<div id="already_exit" style="display:none;color:#ff0000;" ><?=CODE?> already exists. Try with another.</div>
														</div>
													</div>
													
													<div class="col-md-2">
														<div class="form-group m-b-40">
															<input type="text" class="form-control" id="PROGRAM_TRANSCRIPT_CODE" name="PROGRAM_TRANSCRIPT_CODE" value="<?=$PROGRAM_TRANSCRIPT_CODE?>" >
															<span class="bar"></span>
															<label for="PROGRAM_TRANSCRIPT_CODE"><?=PROGRAM_TRANSCRIPT_CODE?></label>
														</div>
													</div>
													
													<div class="col-md-3">
														<div class="form-group m-b-40">
															<input type="text" class="form-control" id="DESCRIPTION" name="DESCRIPTION" value="<?=$DESCRIPTION?>" >
															<span class="bar"></span>
															<label for="DESCRIPTION"><?=PROGRAM_DESCRIPTION?></label>
														</div>
													</div>
													
													<div class="col-md-2">
														<div class="d-flex">
															<div class="col-12 col-sm-12 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="USE_PROGRAM_GRADE" name="USE_PROGRAM_GRADE" value="1" <? if($USE_PROGRAM_GRADE == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="USE_PROGRAM_GRADE"><?=USE_PROGRAM_GRADE?></label>
															</div>
														</div>
													</div>
												</div>
												
												<div class="row">
													<div class="col-sm-12 ">
														<div class="d-flex theme-h-border">
														</div>
													</div>
												</div>
												
												<div class="row">
													<div class="col-sm-3 pt-25">
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_CREDENTIAL_LEVEL" name="PK_CREDENTIAL_LEVEL" class="form-control">
																<option selected></option>
																<? $res_type = $db->Execute("select PK_CREDENTIAL_LEVEL,CONCAT(CODE,' - ',DESCRIPTION) AS DESCRIPTION from M_CREDENTIAL_LEVEL WHERE ACTIVE = 1 order by CONCAT(CODE,' - ',DESCRIPTION) ASC");
																while (!$res_type->EOF) { ?>
																	<option value="<?=$res_type->fields['PK_CREDENTIAL_LEVEL'] ?>" <? if($PK_CREDENTIAL_LEVEL == $res_type->fields['PK_CREDENTIAL_LEVEL']) echo "selected"; ?> ><?=$res_type->fields['DESCRIPTION']?></option>
																<?	$res_type->MoveNext();
																} ?>
															</select>
															<span class="bar"></span> 
															<label for="PK_CREDENTIAL_LEVEL"><?=CRED_LEVEL?></label>
														</div>
														
														<div class="col-12 col-sm-12 form-group">
															<select id="CLOCK_CREDIT" name="CLOCK_CREDIT" class="form-control">
																<option selected></option>
																<option value="1" <? if($CLOCK_CREDIT == 1) echo "selected"; ?> >Clock</option>
																<option value="2" <? if($CLOCK_CREDIT == 2) echo "selected"; ?> >Credit</option>
																<option value="3" <? if($CLOCK_CREDIT == 3) echo "selected"; ?> >N/A</option>
															</select>
															<span class="bar"></span> 
															<label for="CLOCK_CREDIT"><?=CLOCK_CREDIT?></label>
														</div>
														
														<div class="col-12 col-sm-12 form-group">
															<select id="DIPLOMA" name="DIPLOMA" class="form-control">
																<option selected></option>
																<option value="1" <? if($DIPLOMA == 1) echo "selected"; ?> >Diploma</option>
																<option value="2" <? if($DIPLOMA == 2) echo "selected"; ?> >Certificate</option>
																<option value="3" <? if($DIPLOMA == 3) echo "selected"; ?> >N/A</option>
																<option value="4" <? if($DIPLOMA == 4) echo "selected"; ?> >Degree</option>
															</select>
															<span class="bar"></span> 
															<label for="DIPLOMA"><?=DIPLOMA?></label>
														</div>
														
														<div class="col-12 col-sm-12 form-group">
															<input class="form-control" type="text" value="<?=$CAPACITY?>" id="CAPACITY" name="CAPACITY">
															<span class="bar"></span> 
															<label for="CAPACITY"><?=CAPACITY?></label>
														</div>
														
														<div class="row">
															<div class="col-sm-12 ">
																<div class="d-flex theme-h-border">
																</div>
															</div>
														</div>
														<br />
														
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_ENROLLMENT_STATUS_SCALE_MASTER" name="PK_ENROLLMENT_STATUS_SCALE_MASTER" class="form-control">
																<option selected></option>
																<? /* Ticket #1697  */
																$res_type = $db->Execute("select PK_ENROLLMENT_STATUS_SCALE_MASTER, ENROLLMENT_STATUS, ACTIVE from M_ENROLLMENT_STATUS_SCALE_MASTER WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' order by ACTIVE DESC, ENROLLMENT_STATUS ASC");
																while (!$res_type->EOF) { 
																	$option_label = $res_type->fields['ENROLLMENT_STATUS'];
																	if($res_type->fields['ACTIVE'] == 0)
																		$option_label .= " (Inactive)"; ?>
																	<option value="<?=$res_type->fields['PK_ENROLLMENT_STATUS_SCALE_MASTER'] ?>" <? if($PK_ENROLLMENT_STATUS_SCALE_MASTER == $res_type->fields['PK_ENROLLMENT_STATUS_SCALE_MASTER']) echo "selected"; ?> <? if($res_type->fields['ACTIVE'] == 0) echo "class='option_red'"; ?> ><?=$option_label ?></option>
																<?	$res_type->MoveNext();
																} /* Ticket #1697  */ ?>
															</select>
															<span class="bar"></span> 
															<label for="PK_ENROLLMENT_STATUS_SCALE_MASTER"><?=ENROLLMENT_STATUS_SCALE?></label>
														</div>
														
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_PROGRAM_GROUP" name="PK_PROGRAM_GROUP" class="form-control">
																<option selected></option>
																<? /* Ticket #1697  */
																$res_type = $db->Execute("select PK_PROGRAM_GROUP, CONCAT(PROGRAM_GROUP, ' - ', DESCRIPTION) as PROGRAM_GROUP, ACTIVE from M_PROGRAM_GROUP WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' order by ACTIVE DESC, PROGRAM_GROUP ASC");  
																while (!$res_type->EOF) { 
																	$option_label = $res_type->fields['PROGRAM_GROUP'];
																	if($res_type->fields['ACTIVE'] == 0)
																		$option_label .= " (Inactive)"; ?>
																	<option value="<?=$res_type->fields['PK_PROGRAM_GROUP'] ?>" <? if($PK_PROGRAM_GROUP == $res_type->fields['PK_PROGRAM_GROUP']) echo "selected"; ?> <? if($res_type->fields['ACTIVE'] == 0) echo "class='option_red'"; ?>  ><?=$option_label?></option>
																<?	$res_type->MoveNext();
																} /* Ticket #1697  */ ?>
															</select>
															</select>
															<span class="bar"></span> 
															<label for="PK_PROGRAM_GROUP"><?=PROGRAM_GROUP?></label>
														</div>
														
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_GRADE_SCALE_MASTER" name="PK_GRADE_SCALE_MASTER" class="form-control required-entry"  error_label="<?=CODE?> - <?=GRADE_SCALE?>" > <!-- Ticket # 1954 -->
																<option selected></option>
																<? /* Ticket #1697  */
																$res_type = $db->Execute("select PK_GRADE_SCALE_MASTER, GRADE_SCALE, ACTIVE from S_GRADE_SCALE_MASTER WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' order by ACTIVE DESC, GRADE_SCALE ASC"); 
																while (!$res_type->EOF) { 
																	$option_label = $res_type->fields['GRADE_SCALE'];
																	if($res_type->fields['ACTIVE'] == 0)
																		$option_label .= " (Inactive)"; ?>
																	<option value="<?=$res_type->fields['PK_GRADE_SCALE_MASTER'] ?>" <? if($PK_GRADE_SCALE_MASTER == $res_type->fields['PK_GRADE_SCALE_MASTER']) echo "selected"; ?> <? if($res_type->fields['ACTIVE'] == 0) echo "class='option_red'"; ?> ><?=$option_label?></option>
																<?	$res_type->MoveNext();
																} /* Ticket #1697  */ ?>
															</select>
															<span class="bar"></span> 
															<label for="PK_GRADE_SCALE_MASTER"><?=GRADE_SCALE?></label>
														</div>

														<!-- DIAM-677 -->
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_SAP_SCALE" name="PK_SAP_SCALE" class="form-control"> 
																<option selected></option>
																<? 
																$res_type = $db->Execute("SELECT PK_SAP_SCALE,SAP_SCALE_NAME,SAP_SCALE_DESCRIPTION, IF(IS_DEFAULT = 1, 'Yes', 'No') as IS_DEFAULT, ACTIVE AS ACTIVE FROM S_SAP_SCALE_SETUP WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' order by ACTIVE DESC, SAP_SCALE_NAME ASC");
																while (!$res_type->EOF) {
																	$option_label = $res_type->fields['SAP_SCALE_NAME'];
																	if ($res_type->fields['ACTIVE'] == 0)
																		$option_label .= " (Inactive)"; ?>
																	<option value="<?= $res_type->fields['PK_SAP_SCALE'] ?>" <? if ($PK_SAP_SCALE == $res_type->fields['PK_SAP_SCALE']) echo "selected"; ?> <? if ($res_type->fields['ACTIVE'] == 0) echo "class='option_red'"; ?>><?= $option_label ?></option>
																<? $res_type->MoveNext();
																} ?>
															</select>
															<span class="bar"></span>
															<label for="SAP_SCALE"><?=SAP_SCALE ?></label>
														</div>
														<!-- End DIAM-677 -->
														
														<? if($_GET['id'] != ''){ ?>
														<div class="row">
															<div class="col-md-12">
																<div class="row form-group">
																	<div class="custom-control col-md-6"><?=ACTIVE?></div>
																	<div class="custom-control custom-radio col-md-3">
																		<input type="radio" id="customRadio11" name="ACTIVE" value="1" <? if($ACTIVE == 1) echo "checked"; ?> class="custom-control-input">
																		<label class="custom-control-label" for="customRadio11"><?=YES?></label>
																	</div>
																	<div class="custom-control custom-radio col-md-2">
																		<input type="radio" id="customRadio22" name="ACTIVE" value="0" <? if($ACTIVE == 0) echo "checked"; ?>  class="custom-control-input">
																		<label class="custom-control-label" for="customRadio22"><?=NO?></label>
																	</div>
																</div>
															</div>
														</div>
														<? } ?>
														
													</div>
													<div class="col-sm-9 pt-25 theme-v-border">
														<div class="row">
															<div class="col-sm-6 pt-25">
																<center><b>Published Program Length</b></center>
														
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$YEARS?>" id="YEARS" name="YEARS" style="text-align:right">
																	<span class="bar"></span> 
																	<label for="YEARS">Years</label>
																</div>
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$MONTHS?>" id="MONTHS" name="MONTHS" style="text-align:right">
																	<span class="bar"></span> 
																	<label for="MONTHS"><?=MONTHS?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$WEEKS?>" id="WEEKS" name="WEEKS" style="text-align:right">
																	<span class="bar"></span> 
																	<label for="WEEKS"><?=WEEKS?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$HOURS?>" id="HOURS" name="HOURS" style="text-align:right">
																	<span class="bar"></span> 
																	<label for="HOURS"><?=HOURS?></label>
																</div>
																
																<div class="row">
																	<div class="col-sm-12 ">
																		<div class="d-flex theme-h-border">
																		</div>
																	</div>
																</div>
																<br />
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$UNITS?>" id="UNITS" name="UNITS">
																	<span class="bar"></span> 
																	<label for="UNITS"><?=UNITS?></label>
																</div>
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$FA_UNITS?>" id="FA_UNITS" name="FA_UNITS">
																	<span class="bar"></span> 
																	<label for="FA_UNITS"><?=FA_UNITS?></label>
																</div>
																
																<div class="row">
																	<div class="col-sm-12 ">
																		<div class="d-flex theme-h-border">
																		</div>
																	</div>
																</div>
																<br />
																
																<!-- Ticket # 1526 -->
																<div class="col-12 col-sm-12 form-group">
																	<select id="PK_EARNING_TYPE" name="PK_EARNING_TYPE" class="form-control">
																		<option selected></option>
																		<? /* Ticket #1149  */
																		$act_type_cond = " AND ACTIVE = 1 ";
																		if($PK_EARNING_TYPE > 0)
																			$act_type_cond = " AND (ACTIVE = 1 OR PK_EARNING_TYPE='$PK_EARNING_TYPE' ) ";
																		
																		$res_type = $db->Execute("select PK_EARNING_TYPE,EARNING_TYPE from M_EARNING_TYPE WHERE 1 = 1 $act_type_cond order by EARNING_TYPE ASC"); /* Ticket #1149  */
																		while (!$res_type->EOF) { ?>
																			<option value="<?=$res_type->fields['PK_EARNING_TYPE'] ?>" <? if($PK_EARNING_TYPE == $res_type->fields['PK_EARNING_TYPE']) echo "selected"; ?> ><?=$res_type->fields['EARNING_TYPE']?></option>
																		<?	$res_type->MoveNext();
																		} ?>
																	</select>
																	<span class="bar"></span> 
																	<label for="PK_EARNING_TYPE"><?=MONTHLY_EARNINGS_TYPE?></label>
																</div>
																<!-- Ticket # 1526 -->
																
																<div class="col-12 col-sm-12 form-group">
																	<select id="PK_TUITION_TYPE" name="PK_TUITION_TYPE" class="form-control">
																		<option selected></option>
																		<? $res_type = $db->Execute("select PK_TUITION_TYPE,TUITION_TYPE from M_TUITION_TYPE WHERE ACTIVE = 1 order by TUITION_TYPE ASC");
																		while (!$res_type->EOF) { ?>
																			<option value="<?=$res_type->fields['PK_TUITION_TYPE'] ?>" <? if($PK_TUITION_TYPE == $res_type->fields['PK_TUITION_TYPE']) echo "selected"; ?> ><?=$res_type->fields['TUITION_TYPE']?></option>
																		<?	$res_type->MoveNext();
																		} ?>
																	</select>
																	<span class="bar"></span> 
																	<label for="PK_TUITION_TYPE"><?=TUITION_TYPE?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$UNIT_COST?>" id="UNIT_COST" name="UNIT_COST">
																	<span class="bar"></span> 
																	<label for="UNIT_COST"><?=UNIT_COST?></label>
																</div>
																
															</div>
															<div class="col-sm-6 pt-25 theme-v-border">
																<center><b><?=DAILY_HOURS?></b></center>
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_SUNDAY?>" id="DAILY_HOURS_SUNDAY" name="DAILY_HOURS_SUNDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_SUNDAY"><?=SUNDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_MONDAY?>" id="DAILY_HOURS_MONDAY" name="DAILY_HOURS_MONDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_MONDAY"><?=MONDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_TUESDAY?>" id="DAILY_HOURS_TUESDAY" name="DAILY_HOURS_TUESDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_TUESDAY"><?=TUESDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_WEDNESDAY?>" id="DAILY_HOURS_WEDNESDAY" name="DAILY_HOURS_WEDNESDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_WEDNESDAY"><?=WEDNESDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_THURSDAY?>" id="DAILY_HOURS_THURSDAY" name="DAILY_HOURS_THURSDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_THURSDAY"><?=THURSDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_FRIDAY?>" id="DAILY_HOURS_FRIDAY" name="DAILY_HOURS_FRIDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_FRIDAY"><?=FRIDAY?></label>
																</div>
																
																<div class="col-12 col-sm-12 form-group">
																	<input class="form-control" type="text" value="<?=$DAILY_HOURS_SATURDAY?>" id="DAILY_HOURS_SATURDAY" name="DAILY_HOURS_SATURDAY" style="text-align:right" >
																	<span class="bar"></span> 
																	<label for="DAILY_HOURS_SATURDAY"><?=SATURDAY?></label>
																</div>
																
																<!-- Ticket # 1682 -->
																<div class="row">
																	<div class="col-sm-12 ">
																		<div class="d-flex theme-h-border">
																		</div>
																	</div>
																</div>
																<div class="col-sm-12 pt-25">
																	<center><b style="font-weight:bold" ><?=EXPECTED_GRADE_DATE_AND_MIDPOINT_DATE_CALCULATION?></b></center><br />
																	
																	<div class="row form-group">
																		<div class="custom-control col-md-5"><b><?=MEASUREMENT_TYPE?></b></div>
																		<div class="custom-control custom-radio col-md-3">
																			<input type="radio" id="MEASUREMENT_TYPE_1" name="MEASUREMENT_TYPE" value="Hours" <? if($MEASUREMENT_TYPE == "Hours") echo "checked"; ?> class="custom-control-input">
																			<label class="custom-control-label" for="MEASUREMENT_TYPE_1"><?=HOURS?></label>
																		</div>
																		<div class="custom-control custom-radio col-md-3">
																			<input type="radio" id="MEASUREMENT_TYPE_2" name="MEASUREMENT_TYPE" value="Weeks" <? if($MEASUREMENT_TYPE == "Weeks") echo "checked"; ?>  class="custom-control-input">
																			<label class="custom-control-label" for="MEASUREMENT_TYPE_2"><?=WEEKS?></label>
																		</div>
																	</div>
																	
																	<div class="row form-group">
																		<div class="custom-control col-md-12"><b><?=EXCLUDE?></b></div>
																		
																		<div class="col-md-12" style="padding-left: 40px;" >
																			<div class="d-flex">
																				<div class="col-12 col-sm-12 custom-control custom-checkbox form-group" >
																					<input type="checkbox" class="custom-control-input" id="EXCLUDE_BREAKS" name="EXCLUDE_BREAKS" value="1" <? if($EXCLUDE_BREAKS == 1) echo "checked"; ?> >
																					<label class="custom-control-label" for="EXCLUDE_BREAKS"><?=BREAKS?></label>
																				</div>
																			</div>
																		</div>
																		
																		<div class="col-md-12" style="padding-left: 40px;" >
																			<div class="d-flex">
																				<div class="col-12 col-sm-12 custom-control custom-checkbox form-group" >
																					<input type="checkbox" class="custom-control-input" id="EXCLUDE_CLOSURES" name="EXCLUDE_CLOSURES" value="1" <? if($EXCLUDE_CLOSURES == 1) echo "checked"; ?> >
																					<label class="custom-control-label" for="EXCLUDE_CLOSURES"><?=CLOSURES?></label>
																				</div>
																			</div>
																		</div>
																		
																		<div class="col-md-12" style="padding-left: 40px;" >
																			<div class="d-flex">
																				<div class="col-12 col-sm-12 custom-control custom-checkbox form-group" >
																					<input type="checkbox" class="custom-control-input" id="EXCLUDE_HOLIDAYS" name="EXCLUDE_HOLIDAYS" value="1" <? if($EXCLUDE_HOLIDAYS == 1) echo "checked"; ?> >
																					<label class="custom-control-label" for="EXCLUDE_HOLIDAYS"><?=HOLIDAYS?></label>
																				</div>
																			</div>
																		</div>
																		
																		<div class="col-md-12" style="padding-left: 40px;" >
																			<div class="d-flex">
																				<div class="col-12 col-sm-12 custom-control custom-checkbox form-group" >
																					<input type="checkbox" class="custom-control-input" id="EXCLUDE_LOA" name="EXCLUDE_LOA" value="1" <? if($EXCLUDE_LOA == 1) echo "checked"; ?> >
																					<label class="custom-control-label" for="EXCLUDE_LOA"><?=LOA?></label>
																				</div>
																			</div>
																		</div>
																		
																	</div>
																</div>
																<!-- Ticket # 1682 -->
																
															</div>
														</div>
													</div>
												</div>
												
												<div class="row">
													<div class="col-sm-12 ">
														<div class="d-flex theme-h-border">
														</div>
													</div>
												</div>
												<br /><br /><br />
												
												<div class="row">
													<div class="col-sm-4 ">
													<div class="row">
														<div class="col-6 col-sm-6 form-group">
															<input class="form-control" type="text" value="<?=$CIP_CODE?>" id="CIP_CODE" name="CIP_CODE" >
															<span class="bar"></span> 
															<label for="CIP_CODE"><?=CIP_CODE?></label>
														</div>
														<div class="col-6 col-sm-6 form-group">
															<select class="form-control" id="CIP_YEAR" name="CIP_YEAR" >
																<option value="2020" <?php if($CIP_YEAR == "2020"){ echo " selected ";}?>>2020</option>
																<option value="2010" <?php if($CIP_YEAR == "2010"){ echo " selected ";}?>>2010</option>
															</select>
															<span class="bar"></span> 
															<label for="CIP_YEAR">CIP Year</label>
														</div>
													
														
														<div class="col-12 col-sm-12 form-group">
															<select id="PK_SPECIAL_PROGRAM_INDICATOR" name="PK_SPECIAL_PROGRAM_INDICATOR" class="form-control">
																<option selected></option>
																<? $res_type = $db->Execute("select PK_SPECIAL_PROGRAM_INDICATOR,CONCAT(CODE,' - ',DESCRIPTION) AS DESCRIPTION from M_SPECIAL_PROGRAM_INDICATOR WHERE ACTIVE = 1 order by CONCAT(CODE,' - ',DESCRIPTION) ASC");
																while (!$res_type->EOF) { ?>
																	<option value="<?=$res_type->fields['PK_SPECIAL_PROGRAM_INDICATOR'] ?>" <? if($PK_SPECIAL_PROGRAM_INDICATOR == $res_type->fields['PK_SPECIAL_PROGRAM_INDICATOR']) echo "selected"; ?> ><?=$res_type->fields['DESCRIPTION']?></option>
																<?	$res_type->MoveNext();
																} ?>
															</select>
															<span class="bar"></span> 
															<label for="PK_SPECIAL_PROGRAM_INDICATOR"><?=SPECIAL_PROGRAM_INDICATOR?></label>
														</div>
														</div>
													</div>
													<div class="col-sm-8 theme-v-border">
														<br />
														<div class="d-flex">
															<div class="col-12 form-group">
																<textarea class="form-control" rows="2" id="CIP_DEFINITION" name="CIP_DEFINITION"><?=$CIP_DEFINITION?></textarea>
																<span class="bar"></span>
																<label for="CIP_DEFINITION"><?=CIP_DEFINITION?></label>
															</div>
														</div>
														
														<div class="d-flex">
															<div class="col-12 form-group">
																<textarea class="form-control" rows="2" id="NOTES" name="NOTES"><?=$NOTES?></textarea>
																<span class="bar"></span>
																<label for="NOTES"><?=NOTES?></label>
															</div>
														</div>
													</div>
												</div>
														
											</div>
										</div>
										<? if($_GET['id'] != ''){ ?>
										<div class="tab-pane <?=$requirement_tab?>" id="requirementTab" role="tabpanel">
											<div class="p-20">
												<div class="row">
													<div class="col-md-6 align-self-center">
													</div>  
													<div class="col-md-6 align-self-center text-right">
														<div class="d-flex justify-content-end align-items-center">
															<a href="javascript:void(0)" onclick="copy_requirement_to()" class="btn btn-info d-none d-lg-block m-l-15"><i class="fas fa-copy"></i> <?=COPY_REQUIREMENT_TO?></a>
															
															<a href="program_requirement_upload?pid=<?=$_GET['id']?>" class="btn btn-info d-none d-lg-block m-l-15"><i class="fas fa-upload"></i> <?=UPLOAD?></a>
															
															<a href="javascript:void(0)" onclick="add_requirement()"  class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=CREATE_NEW?></a>&nbsp;&nbsp;
														</div>
													</div>
												</div>
												<br />
												<!-- ticket #1059 -->
												<div class="row">
													<div class="col-md-6">
														<b><?=REQUIREMENT?></b>
													</div> 
													<div class="col-md-2">
														<b><?=CATEGORY?></b>
													</div>
													<div class="col-md-1">
														<b><?=MANDATORY?></b>
													</div>
													<div class="col-md-1">
														<b><?=ACTIVE?></b>
													</div> 
													<div class="col-md-1">
														<b><?=DELETE?></b>
													</div> 
												</div>	
												<!-- ticket #1059 -->
												<div id="requirement_div" >
													<? $requirement_id = 0;
													$res = $db->Execute("select PK_CAMPUS_PROGRAM_REQUIREMENT from M_CAMPUS_PROGRAM_REQUIREMENT WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' ORDER BY ACTIVE DESC, REQUIREMENT ASC ");
													$mno = 0;
													while (!$res->EOF) { 
														$_REQUEST['requirement_id'] 	  		   = $requirement_id;
														$_REQUEST['PK_CAMPUS_PROGRAM_REQUIREMENT'] = $res->fields['PK_CAMPUS_PROGRAM_REQUIREMENT'];
														
														include("ajax_program_requirement.php");
														$requirement_id++;
														
														$res->MoveNext();
													} ?>
												</div>
											</div>
										</div>
										
										<!-- ticket #1059 -->
										<div class="tab-pane <?=$school_requirement_tab?>" id="schoolRequirementTab" role="tabpanel">
											<div class="p-20">
												<table class="table table-hover">
													<thead>
														<tr>
															<th><?=REQUIREMENT?></th>
															<th><?=CATEGORY?></th>
															<th><?=MANDATORY?></th>
														</tr>
													</thead>
													<tbody>
														<? $result1 = $db->Execute("SELECT REQUIREMENT, REQUIREMENT_CATEGORY, IF(MANDATORY = 1,'Yes','No') as MANDATORY  FROM S_SCHOOL_REQUIREMENT LEFT JOIN Z_REQUIREMENT_CATEGORY ON Z_REQUIREMENT_CATEGORY.PK_REQUIREMENT_CATEGORY = S_SCHOOL_REQUIREMENT.PK_REQUIREMENT_CATEGORY WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ORDER BY S_SCHOOL_REQUIREMENT.ACTIVE DESC, REQUIREMENT ASC ");
														while (!$result1->EOF) { ?>
														<tr>
															<td><?=$result1->fields['REQUIREMENT']?></td>
															<td><?=$result1->fields['REQUIREMENT_CATEGORY']?></td>
															<td><?=$result1->fields['MANDATORY']?></td>
														</tr>
														<? $result1->MoveNext();
														} ?>
													</tbody>
												</table>
											</div>
										</div>
										<!-- ticket #1059 -->
										
										<div class="tab-pane <?=$ay_tab?>" id="ayTab" role="tabpanel">
											<div class="row">
												<div class="col-md-10 align-self-center">
												</div>  
												<div class="col-md-2 align-self-center text-right">
													<div class="d-flex justify-content-end align-items-center">
														<a href="javascript:void(0)" onclick="add_ay()"  class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=CREATE_NEW?></a>&nbsp;&nbsp;
													</div>
												</div>
											</div>
												
											<div class="row">
												<div class="col-md-2">
													<b><?=ACADEMIC_YEAR?></b>
												</div> 
												<div class="col-md-2">
													<b><?=PERIODS?></b>
												</div>
												<div class="col-md-1">
													<b><?=MONTHS?></b>
												</div> 
												<div class="col-md-1">
													<b><?=WEEKS?></b>
												</div> 
												<div class="col-md-1">
													<b><?=UNITS?></b>
												</div> 
												<div class="col-md-1">
													<b><?=HOURS?></b>
												</div> 
												<div class="col-md-1">
													<b><?=FA_UNITS?></b>
												</div> 
												<div class="col-md-1">
													<b><?=ACTIVE?></b>
												</div> 
												<div class="col-md-2">
													<b><?=DELETE?></b>
												</div> 
											</div>
											
											<div id="ay_div" >
												<? $ay_id = 0;
												$res = $db->Execute("select PK_CAMPUS_PROGRAM_AY from M_CAMPUS_PROGRAM_AY WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' ");
												while (!$res->EOF) { 
													$_REQUEST['ay_id'] 	  		   		= $ay_id;
													$_REQUEST['PK_CAMPUS_PROGRAM_AY'] 	= $res->fields['PK_CAMPUS_PROGRAM_AY'];
													
													include("ajax_program_ay.php");
													$ay_id++;
													
													$res->MoveNext();
												} ?>
											</div>
											
											<!-- Ticket # 1245  -->
											<div class="row">
												<div class="col-md-2" style="font-weight:bold" >
													<?=TOTAL?>
												</div> 
												<div class="col-md-2" style="font-weight:bold" id="AY_PERIOD_DIV" >
												</div>
												<div class="col-md-1" style="font-weight:bold" id="AY_MONTHS_DIV" >
												</div> 
												<div class="col-md-1" style="font-weight:bold" id="AY_WEEKS_DIV" >
												</div> 
												<div class="col-md-1" style="font-weight:bold" id="AY_UNITS_DIV" >
												</div> 
												<div class="col-md-1" style="font-weight:bold" id="AY_HOURS_DIV" >
												</div> 
												<div class="col-md-1" style="font-weight:bold" id="AY_FA_UNITS_DIV" >
												</div> 
											</div>
											<!-- Ticket # 1245  -->
										</div>
										
										<div class="tab-pane <?=$program_fee_tab?>" id="programFeeTab" role="tabpanel">
											
											<div class="row">
												<div class="col-md-10 align-self-center">
												</div>  
												<div class="col-md-2 align-self-center text-right">
													<div class="d-flex justify-content-end align-items-center">
														<a href="javascript:void(0)" onclick="add_program_fee()"  class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=CREATE_NEW?></a>&nbsp;&nbsp;
													</div>
												</div>
											</div>
											<!-- Ticket # 1224  -->
											<br />
											<table data-toggle="table" data-mobile-responsive="true" class="table-striped" id="program_fee_div" >
												<thead>
													<tr>
														<th ><?=DAYS_FROM_START?></th>
														<th ><?=FEE?></th>
														<th ><?=FEE_TYPE?></th>
														<th ><?=DESCRIPTION?></th>
														<th ><?=AMOUNT?></th>
														<th ><?=AY?></th>
														<th ><?=AP?></th>
														<th ><?=FREQUENCY?></th>
														<th ><?=NO_OF_TIMES?></th>
														<th ><?=DEP?></th>
														<th ><?=HOUSING?></th>
														<!-- <th ><?=GE_DISCLOSURE?></th> Ticket # 1528 -->
														<th ><?=ACTIVE?></th>
														<th ><?=DELETE?></th>
													</tr>
												</thead>
												<tbody id="programTutionFeeTab"> <?php //26 May 2023 ?>
													<? //$program_fee_id = 0;
													//$res = $db->Execute("select PK_CAMPUS_PROGRAM_FEE from M_CAMPUS_PROGRAM_FEE WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' ORDER BY AY ASC, AP ASC ");
													//while (!$res->EOF) { 
														//$_REQUEST['program_fee_id'] 	  	= $program_fee_id;
														//$_REQUEST['PK_CAMPUS_PROGRAM_FEE'] 	= $res->fields['PK_CAMPUS_PROGRAM_FEE'];
														
														//include("ajax_program_fee.php");
														//$program_fee_id++;
														
														//$res->MoveNext();
													//} ?>
												</tbody>
											</table>
										
											<div class="row ">
												<div class="col-sm-2" style="max-width: 10%;flex: 10%;" ></div> 
												<div class="col-sm-2" style="max-width: 10%;flex: 10%;"  ></div> 
												<div class="col-md-1" style="max-width: 12.333%;flex: 12.333%;" ></div>
												<div class="col-md-1" style="max-width: 12.333%;flex: 12.333%;" >
													<b><?=TUITION_BUDGET_ONLY_TOTAL?></b>
													<b><?=BUDGET_ONLY_TOTAL?></b>
													<b><?=TOTAL?></b>
												</div> 
												<div class="col-md-1" >
													<div id="BUG_TUT_DIV" style="font-weight:bold;text-align:right"></div>
													<div id="BUG_ONLY_DIV" style="font-weight:bold;text-align:right"></div>
													<div id="TOTAL_FEE_AMT_DIV" style="font-weight:bold;text-align:right"></div>
												</div>
											</div>
											<!-- Ticket # 1224  -->
										</div>
										
										<div class="tab-pane <?= $program_course_tab ?>" id="programCourseTab" role="tabpanel">
												<div class="table-responsive p-20">
													<div class="row">
														<div class="col-md-10 align-self-center">
															<!-- Ticket # 1603  -->
															<div class="d-flex">
																<div class="col-12 col-sm-12 custom-control custom-checkbox form-group">
																	<input type="checkbox" class="custom-control-input" id="USE_TRANSCRIPT_GROUP" name="USE_TRANSCRIPT_GROUP" value="1" <? if ($USE_TRANSCRIPT_GROUP == 1) echo "checked"; ?> onclick="show_transcript_code()">
																	<label class="custom-control-label" for="USE_TRANSCRIPT_GROUP"><?= USE_TRANSCRIPT_GROUP ?></label>
																</div>
															</div>
															<!-- Ticket # 1603  -->
														</div>
														<div class="col-md-2 align-self-center text-right">
															<div class="d-flex justify-content-end align-items-center">
																<a href="javascript:void(0)" onclick="add_program_course()" class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?= CREATE_NEW ?></a>&nbsp;&nbsp;
															</div>
														</div>
													</div>

													<!-- Ticket # 1244  -->
													<br />
													<div class="row">
														<!-- Ticket # 1834  -->
														<div class="col-sm-1 c1" style="flex: 0 0 <?=($USE_TRANSCRIPT_GROUP == 0 ?"17%":"10%");?> ;max-width: 16%;">
															<b><?= COURSE ?></b>
														</div>

														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<b><?= UNITS ?></b>
														</div>
														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<b><?= FA_UNITS ?></b>
														</div>
														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<b><?= HOURS ?></b>
														</div>

														<div class="col-sm-2" style="flex: 0 0 15%;max-width: 15%;">
															<b><?= COREQUISITE ?></b>
														</div>
														<div class="col-sm-2" style="flex: 0 0 15%;max-width: 15%;">
															<b><?= PREREQUISITE ?></b>
														</div>

														<div class="col-sm-1 TRANSCRIPT_GROUP_CLS " style="flex: 0 0 11%;max-width: 12%; <? if ($USE_TRANSCRIPT_GROUP == 0) echo "display:none;"; ?> "><!-- Ticket # 1603  -->
															<b><?= TRANSCRIPT_GROUP ?></b>
														</div>

														<div class="col-sm-1" style="flex: 0 0 5%;max-width: 5%;">
															<b><?= ORDER ?></b>
														</div>
														<div class="col-sm-1">
															<b><?= TYPE ?></b>
														</div>
														<!-- DIAM - 678 -->
														<div class="col-sm-1" style="flex: 0 0 5%;max-width: 6%;">
															<b><?= INCLUDE_IN_SAP ?></b>
														</div>
														<!-- End DIAM - 678 -->
														<div class="col-sm-1" style="flex: 0 0 5%;max-width: 5%;">
															<b><?= ACTIVE ?></b>
														</div>
													
														<div class="col-sm-2" style="flex: 0 0 8.33333%;max-width: 15.33333%;padding-right: 0;">
															<b><?= EDIT ?>/<?= DELETE ?></b>
														</div>
														<!-- Ticket # 1834  -->
														
													</div>
													<!-- Ticket # 1244  -->

													<div id="program_course_div" data-id="1" class="list-group" style="min-height:500px">
														<?
														//  $program_course_id = 2;
														// $res = $db->Execute("select PK_CAMPUS_PROGRAM_COURSE from M_CAMPUS_PROGRAM_COURSE WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ORDER BY COURSE_ORDER ASC ");
														// while (!$res->EOF) {
														// 	$_REQUEST['USE_TRANSCRIPT_GROUP']		= $USE_TRANSCRIPT_GROUP; //Ticket # 1603
														// 	$_REQUEST['program_course_id'] 	  		= $program_course_id;
														// 	$_REQUEST['PK_CAMPUS_PROGRAM_COURSE'] 	= $res->fields['PK_CAMPUS_PROGRAM_COURSE'];

														// 	include("ajax_program_course.php");
														// 	$program_course_id++;

														// 	$res->MoveNext();
														// } 
														?>
													</div>

													<!-- Ticket # 1244  -->
													<div class="row">
														<div class="col-sm-2"><?= TOTAL ?></div>
														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<div id="C_UNITS_DIV_TOT"></div>
														</div>
														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<div id="C_FA_UNITS_TOT"></div>
														</div>
														<div class="col-sm-1" style="flex: 0 0 5.55%;max-width: 5.55%;text-align:right;">
															<div id="C_HOURS_TOT"></div>
														</div>
													</div>
													<!-- Ticket # 1244  -->
												</div>
											</div>
										
										<div class="tab-pane <?=$analytics_setup_tab?>" id="analyticsSetupTab" role="tabpanel">
											<!-- Ticket # 1526 
											<div class="row">
												<div class="col-sm-4 pt-25">
													<center><b><?=GAINFUL_EMPLOYEMENT?></b></center><br />
													
													<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="GE_PROGRAM" name="GE_PROGRAM" value="1" <? if($GE_PROGRAM == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="GE_PROGRAM"><?=GE_PROGRAM?></label>
															</div>
														</div>
													</div>
													
													<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="MED_DEN_RESI" name="MED_DEN_RESI" value="1" <? if($MED_DEN_RESI == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="MED_DEN_RESI"><?=MED_DEN_RESI?></label>
															</div>
														</div>
													</div>
													
													<div class="col-sm-12 ">
														<div class="d-flex theme-h-border form-group">
														</div>
													</div>
												
													<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="FISAP" name="FISAP" value="1" <? if($FISAP == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="FISAP"><?=FISAP?></label>
															</div>
														</div>
													</div>
													
													<!-- Ticket # 1048 -->
													<!--<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="_1098T" name="_1098T" value="1" <? if($_1098T == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="_1098T"><?=_1098T?></label>
															</div>
														</div>
													</div>-->
													<!-- Ticket # 1048 -->
													
													<!-- Ticket # 1526 
													<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="_90_10_Report" name="_90_10_Report" value="1" <? if($_90_10_Report == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="_90_10_Report"><?=_90_10_Report?></label>
															</div>
														</div>
													</div>
													
													<div class="col-12 col-sm-12 form-group">
														<div class="d-flex">
															<div class="col-12 col-sm-4 custom-control custom-checkbox form-group" >
																<input type="checkbox" class="custom-control-input" id="ABHES" name="ABHES" value="1" <? if($ABHES == 1) echo "checked"; ?> >
																<label class="custom-control-label" for="ABHES"><?=ABHES?></label>
															</div>
														</div>
													</div>
												</div>
												
												<div class="col-sm-4 pt-25 theme-v-border">
													<center><b><?=EARNINGS?></b></center><br />
													
													<div class="col-12 col-sm-12 form-group">
														<input class="form-control" type="text" value="<?=$TERM_DAYS?>" id="TERM_DAYS" name="TERM_DAYS" >
														<span class="bar"></span> 
														<label for="TERM_DAYS"><?=TERM_DAYS?></label>
													</div>
													
													<div class="col-12 col-sm-12 form-group">
														<input class="form-control" type="text" value="<?=$TERM_MONTHS?>" id="TERM_MONTHS" name="TERM_MONTHS" >
														<span class="bar"></span> 
														<label for="TERM_MONTHS"><?=TERM_MONTHS?></label>
													</div>
													
													<div class="col-12 col-sm-12 form-group">
														<select id="PK_ENROLLMENT_STATUS" name="PK_ENROLLMENT_STATUS" class="form-control">
															<option selected></option>
															<? /*$res_type = $db->Execute("select PK_ENROLLMENT_STATUS,CONCAT(CODE,' - ',DESCRIPTION) AS DESCRIPTION from M_ENROLLMENT_STATUS WHERE ACTIVE = 1 order by CONCAT(CODE,' - ',DESCRIPTION) ASC");
															while (!$res_type->EOF) { ?>
																<option value="<?=$res_type->fields['PK_ENROLLMENT_STATUS'] ?>" <? if($PK_ENROLLMENT_STATUS == $res_type->fields['PK_ENROLLMENT_STATUS']) echo "selected"; ?> ><?=$res_type->fields['DESCRIPTION']?></option>
															<?	$res_type->MoveNext();
															}*/ ?>
														</select>
														<span class="bar"></span> 
														<label for="PK_ENROLLMENT_STATUS"><?=STATUS?></label>
													</div>
													
													<div class="col-12 col-sm-12 form-group">
														<select id="PK_EARNING_TYPE" name="PK_EARNING_TYPE" class="form-control">
															<option selected></option>
															<? /*$res_type = $db->Execute("select PK_EARNING_TYPE,EARNING_TYPE from M_EARNING_TYPE WHERE ACTIVE = 1 order by EARNING_TYPE ASC");
															while (!$res_type->EOF) { ?>
																<option value="<?=$res_type->fields['PK_EARNING_TYPE'] ?>" <? if($PK_EARNING_TYPE == $res_type->fields['PK_EARNING_TYPE']) echo "selected"; ?> ><?=$res_type->fields['EARNING_TYPE']?></option>
															<?	$res_type->MoveNext();
															}*/ ?>
														</select>
														<span class="bar"></span> 
														<label for="PK_EARNING_TYPE"><?=TYPE?></label>
													</div>
												</div>
											</div>
											Ticket # 1526 -->
											<!-- DIAM-2124 -->
											<div class="p-20">
													<div class="row">
															
															<div class="col-4 col-sm-3 form-group">
															<label><h5><?=OFFER_LETTER_DISPLAY_OPTION?></h5></label><br/><br/>
																<div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_TYPE_OPT" name="PROGRAM_TYPE_OPT" value="1" <? if($PROGRAM_TYPE_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_TYPE_OPT"><?=PROGRAM_TYPE?></label>					
																	</div>
																</div>
																<div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_HOURS_OPT" name="PROGRAM_HOURS_OPT" value="1" <? if($PROGRAM_HOURS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_HOURS_OPT"><?=PROGRAM_HOURS?></label>					
																	</div>
																</div>
																<div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_FA_UNITS_OPT" name="PROGRAM_FA_UNITS_OPT" value="1" <? if($PROGRAM_FA_UNITS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_FA_UNITS_OPT"><?=PROGRAM_FA_UNITS?></label>					
																	</div>
																</div>
																<div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_UNITS_OPT" name="PROGRAM_UNITS_OPT" value="1" <? if($PROGRAM_UNITS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_UNITS_OPT"><?=PROGRAM_UNITS?></label>					
																	</div>
																</div><div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_LENGTH_IN_HOURS_OPT" name="PROGRAM_LENGTH_IN_HOURS_OPT" value="1" <? if($PROGRAM_LENGTH_IN_HOURS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_LENGTH_IN_HOURS_OPT"><?=PROGRAM_LENGTH_IN_HOURS?></label>					
																	</div>
																</div><div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_LENGTH_IN_MONTHS_OPT" name="PROGRAM_LENGTH_IN_MONTHS_OPT" value="1" <? if($PROGRAM_LENGTH_IN_MONTHS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_LENGTH_IN_MONTHS_OPT"><?=PROGRAM_LENGTH_IN_MONTHS?></label>					
																	</div>
																</div><div class="d-flex">
																	<div class="col-12  custom-control custom-checkbox form-group" >
																		<input type="checkbox" class="custom-control-input" id="PROGRAM_LENGTH_IN_WEEKS_OPT" name="PROGRAM_LENGTH_IN_WEEKS_OPT" value="1" <? if($PROGRAM_LENGTH_IN_WEEKS_OPT == 1) echo "checked"; ?> >
																		<label class="custom-control-label" for="PROGRAM_LENGTH_IN_WEEKS_OPT"><?=PROGRAM_LENGTH_IN_WEEKS?></label>					
																	</div>
																</div>
															</div>
														
															<div class="col-4 col-sm-3 form-group">			
															<label><h5><?=OFFER_LETTER_COA_OPTION?></h5></label><br/><br/>		
															<div class="d-flex">	
																	<div class="custom-control custom-radio col-md-6">
																		<input type="radio" id="customRadio22b" name="OFFER_LETTER_COA_OPT" value="0" <? if($OFFER_LETTER_COA_OPT == 0) echo "checked"; ?>  class="custom-control-input">
																		<label class="custom-control-label" for="customRadio22b"><?=ESTIMATED_FEES?></label>
																	</div>	
																	<div class="custom-control custom-radio col-md-6">
																		<input type="radio" id="customRadio11a" name="OFFER_LETTER_COA_OPT" value="1" <? if($OFFER_LETTER_COA_OPT == 1) echo "checked"; ?> class="custom-control-input">
																		<label class="custom-control-label" for="customRadio11a"><?=FINANCIAL_AID?></label>
																	</div>
																</div>	
															
														</div>														
													</div>												
												</div>
												<!-- DIAM-2124 -->
										</div>
										
										<div class="tab-pane <?=$award_setup_tab?>" id="awardTab" role="tabpanel">
											<div class="p-20">
												<div class="row">
													<div class="col-md-6 align-self-center">
													</div>  
													<div class="col-md-6 align-self-center text-right">
														<div class="d-flex justify-content-end align-items-center">
															<a href="javascript:void(0)" onclick="add_award()"  class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=CREATE_NEW?></a>&nbsp;&nbsp;
														</div>
													</div>
												</div>
												<br />
												<table data-toggle="table" data-mobile-responsive="true" class="table-striped" id="award_table" >
													<thead>
														<tr>
															<th ><?=DAYS_FROM_START?></th>
															<th ><?=LEDGER_CODE?></th>
															<th ><?=AWARD_DESCRIPTION?></th>
															<th ><?=AY?></th>
															<th ><?=AP?></th>
															<th ><?=GROSS_AMOUNT?></th>
															<th ><?=FEE_AMOUNT?></th>
															<th ><?=NET_AMOUNT?></th>
															<th ><?=DEP_STATUS?></th>
															<th ><?=HOURS_REQUIRED?></th>
															<th ><?=NO_OF_PAYMENT?></th>
															<th ><?=FREQUENCY?></th>
															<th ><?=OPTIONS?></th>
														</tr>
													</thead>
														<tbody id="financialProgramAwardTab">
														<? 
														
														// $award_id = 0;
														// $res_prog_fee = $db->Execute("select PK_CAMPUS_PROGRAM_AWARD from M_CAMPUS_PROGRAM_AWARD WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ");
																
														// while (!$res_prog_fee->EOF) { 
														// 	$_REQUEST['award_id'] 				 = $award_id;
														// 	$_REQUEST['PK_CAMPUS_PROGRAM_AWARD'] = $res_prog_fee->fields['PK_CAMPUS_PROGRAM_AWARD'];
														
														// 	include("ajax_program_award.php");
														// 	$award_id++;
															
														// 	$res_prog_fee->MoveNext();
														// } 
														
														?>
													</tbody>
													<tfoot>
														<tr>
															<td></td>
															<td></td>
															<td></td>
															<td></td>
															<td></td>
															<td></td>
															<td><?=TOTAL?></td>
															<td>
															<?php 														
															$res_prog_fee = $db->Execute("select SUM(NET_AMOUNT) as NET_AMOUNT from M_CAMPUS_PROGRAM_AWARD WHERE PK_CAMPUS_PROGRAM = '$_GET[id]' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' "); 
															?>
															<div id="TOTAL_NET_AMT" style="text-align:right;" ><?=$res_prog_fee->fields['NET_AMOUNT']?></div>
															</td>
															<td></td>
															<td></td>
															<td></td>
															<td></td>
															<td></td>
														</tr>
													</tfoot>
												</table>
											</div>
										</div>
										
										<div class="tab-pane <?=$grade_tab?>" id="gradeTab" role="tabpanel">
											<div class="row">
												<div class="col-md-8 align-self-center">
												</div>  
												<div class="col-md-4 align-self-center text-right">
													<div class="d-flex justify-content-end align-items-center">
														<a href="javascript:void(0)" onclick="add_grade()" class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=ADD_GRADE?></a>&nbsp;&nbsp;
													</div>
												</div>
											</div>
											
											<div class="p-20">
												<table data-toggle="table" data-mobile-responsive="true" class="table-striped" id="grade_table" >
													<thead>
														<tr>
															<th ><?=GRADE_BOOK_CODE?></th>
															<th ><?=GRADE_BOOK_DESCRIPTION?></th>
															<th ><?=GRADE_BOOK_TYPE?></th>
															<th ><?=SESSIONS_REQUIRED?></th>
															<th ><?=HOURS_REQUIRED?></th>
															<th ><?=POINTS_REQUIRED?></th>
															<th ><?=ACTIVE?></th>
														</tr>
													</thead>
													<tbody>
														<? $grade_cunt = 1; 
														$result1 = $db->Execute("SELECT S_PROGRAM_GRADE_BOOK.PK_PROGRAM_GRADE_BOOK FROM S_PROGRAM_GRADE_BOOK LEFT JOIN M_GRADE_BOOK_CODE ON M_GRADE_BOOK_CODE.PK_GRADE_BOOK_CODE = S_PROGRAM_GRADE_BOOK.PK_GRADE_BOOK_CODE LEFT JOIN M_GRADE_BOOK_TYPE ON M_GRADE_BOOK_TYPE.PK_GRADE_BOOK_TYPE = S_PROGRAM_GRADE_BOOK.PK_GRADE_BOOK_TYPE WHERE S_PROGRAM_GRADE_BOOK.PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$_GET[id]' ORDER BY GRADE_BOOK_TYPE ASC, M_GRADE_BOOK_CODE.CODE ASC, S_PROGRAM_GRADE_BOOK.DESCRIPTION ASC ");
														$reccnt = $result1->RecordCount();
														while (!$result1->EOF) {
															$_REQUEST['PK_PROGRAM_GRADE_BOOK'] 	= $result1->fields['PK_PROGRAM_GRADE_BOOK'];
															$_REQUEST['grade_cunt']  			= $grade_cunt;
															
															include('ajax_program_grade_book.php');
															
															$grade_cunt++;	
															$result1->MoveNext();
														} ?>
													</tbody>
													<!-- Ticket # 1525 -->
													<tfoot>
														<tr>
															<th ></th>
															<th ></th>
															<th ><div style="font-weight:bold" ><?=TOTAL?></div></th>
															<th ><div style="font-weight:bold" id="SESSIONS_REQUIRED_TOTAL_DIV" ></div></th>
															<th ><div style="font-weight:bold" id="HOURS_REQUIRED_TOTAL_DIV" ></div></th>
															<th ><div style="font-weight:bold" id="POINTS_REQUIRED_TOTAL_DIV" ></div></th>
															<th ></th>
														</tr>
													</tfoot>
													<!-- Ticket # 1525 -->
												</table>
												
											</div>
										</div>
										
										<!-- Ticket # 1169  -->
										<div class="tab-pane <?=$report_header_tab?>" id="reportHeaderTab" role="tabpanel">
											<div class="p-20">
												<? /* Ticket # 1986  */
												$REPORT_HEADER_VAL[] 	= 'STUD_ADDRESS_1';
												$REPORT_HEADER_TITLE[] 	= 'Address Line 1';
												$REPORT_HEADER_VAL[] 	= 'STUD_ADDRESS_2';
												$REPORT_HEADER_TITLE[] 	= 'Address Line 2';
												$REPORT_HEADER_VAL[] 	= 'BADGE_ID';
												$REPORT_HEADER_TITLE[] 	= 'Badge ID';
												/* Ticket # 1986  */
												$REPORT_HEADER_VAL[]	= 'OFFICIAL_CAMPUS_NAME';
												$REPORT_HEADER_TITLE[] 	= 'Campus';
												$REPORT_HEADER_VAL[] 	= 'CAMPUS_CODE';
												$REPORT_HEADER_TITLE[] 	= 'Campus Code';
												
												/* Ticket # 1986  */
												$REPORT_HEADER_VAL[] 	= 'STUD_CITY_STATE_ZIP';
												$REPORT_HEADER_TITLE[] 	= 'City, State - Zip';
												/* Ticket # 1986  */
												
												$REPORT_HEADER_VAL[] 	= 'DATE_OF_BIRTH';
												$REPORT_HEADER_TITLE[] 	= 'Date Of Birth';
												$REPORT_HEADER_VAL[] 	= 'EMAIL';
												$REPORT_HEADER_TITLE[] 	= 'Email';
												$REPORT_HEADER_VAL[] 	= 'TERM_RANGE';
												$REPORT_HEADER_TITLE[] 	= 'First Term Date Range';
												$REPORT_HEADER_VAL[] 	= 'TERM_DESCRIPTION';
												$REPORT_HEADER_TITLE[]	= 'First Term Description';
												$REPORT_HEADER_VAL[] 	= 'END_DATE';
												$REPORT_HEADER_TITLE[] 	= 'First Term End Date';
												$REPORT_HEADER_VAL[] 	= 'BEGIN_DATE';
												$REPORT_HEADER_TITLE[] 	= 'First Term Start Date';
												$REPORT_HEADER_VAL[] 	= 'FULL_PART_TIME';
												$REPORT_HEADER_TITLE[] 	= 'Full/Part Time';
												$REPORT_HEADER_VAL[] 	= 'FUNDING';
												$REPORT_HEADER_TITLE[] 	= 'Funding';
												$REPORT_HEADER_VAL[] 	= 'EXPECTED_GRAD_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Expected Grad Date';
												$REPORT_HEADER_VAL[] 	= 'GRADE_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Grad Date';
												/* DIAM-1556 */
												$REPORT_HEADER_VAL[] 	= 'DROP_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Drop Date';
												$REPORT_HEADER_VAL[] 	= 'DETERMINATION_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Determination Date';
												/* DIAM-1556 */
												/* DIAM-2159 */												
												$REPORT_HEADER_VAL[] 	= 'LAST_CLASS_ATTENDED_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Last Class Attended Date';
												/* DIAM-2159 */
												$REPORT_HEADER_VAL[] 	= 'STUDENT_GROUP';
												$REPORT_HEADER_TITLE[] 	= 'Group';
												$REPORT_HEADER_VAL[] 	= 'HOME_PHONE';
												$REPORT_HEADER_TITLE[] 	= 'Home Phone';
												$REPORT_HEADER_VAL[] 	= 'LDA';
												$REPORT_HEADER_TITLE[] 	= 'LDA';
												$REPORT_HEADER_VAL[] 	= 'MIDPOINT_DATE';
												$REPORT_HEADER_TITLE[] 	= 'Mid Point Date';
												$REPORT_HEADER_VAL[] 	= 'PROGRAM_CODE';
												$REPORT_HEADER_TITLE[] 	= 'Program';
												
												$REPORT_HEADER_VAL[] 	= 'PROGRAM_TRANSCRIPT_CODE';
												$REPORT_HEADER_TITLE[] 	= 'Program Transcript Code';
												$REPORT_HEADER_VAL[] 	= 'PROGRAM_DESCRIPTION';
												$REPORT_HEADER_TITLE[] 	= 'Program Description';
												
												$REPORT_HEADER_VAL[] 	= 'HOURS';
												$REPORT_HEADER_TITLE[] 	= 'Program Hours';
												$REPORT_HEADER_VAL[] 	= 'MONTHS';
												$REPORT_HEADER_TITLE[] 	= 'Program Months';
												$REPORT_HEADER_VAL[] 	= 'UNITS';
												$REPORT_HEADER_TITLE[] 	= 'Program Units';
												$REPORT_HEADER_VAL[] 	= 'WEEKS';
												$REPORT_HEADER_TITLE[] 	= 'Program Weeks';
												$REPORT_HEADER_VAL[] 	= 'SESSION_ABBREVIATION'; 
												$REPORT_HEADER_TITLE[] 	= 'Session';
												$REPORT_HEADER_VAL[] 	= 'SSN_1';
												$REPORT_HEADER_TITLE[] 	= 'SSN';
												$REPORT_HEADER_VAL[] 	= 'SSN_2';
												$REPORT_HEADER_TITLE[] 	= 'SSN-4';
												$REPORT_HEADER_VAL[] 	= 'STUDENT_STATUS';
												$REPORT_HEADER_TITLE[] 	= 'Status';
												$REPORT_HEADER_VAL[] 	= 'STUDENT_ID';
												$REPORT_HEADER_TITLE[] =	 'Student ID';
												/* DIAM-2180 */												
												$REPORT_HEADER_VAL[] 	= 'DIPLOMA_CERTIFICATE';
												$REPORT_HEADER_TITLE[] 	= 'Diploma/Certificate';
												/* DIAM-2180 */
												
												$res_dd = $db->Execute("select PK_CUSTOM_FIELDS, FIELD_NAME from S_CUSTOM_FIELDS WHERE ACTIVE = '1' AND SECTION = '1' AND PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' ORDER BY PK_DEPARTMENT ASC, FIELD_NAME ASC ");
												while (!$res_dd->EOF) {
													$REPORT_HEADER_VAL[] 	= $res_dd->fields['PK_CUSTOM_FIELDS'];
													$REPORT_HEADER_TITLE[] 	= $res_dd->fields['FIELD_NAME'];
													$res_dd->MoveNext();
												} 
												array_multisort($REPORT_HEADER_TITLE,$REPORT_HEADER_VAL); ///DIAM-2159
												?>
												<div class="row">
													<div class="col-md-3 form-group">
														<select id="BOX_1" name="BOX_1" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_1) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_1"><?=BOX_1?></label>
													</div>
													<div class="col-md-3 form-group">
														<select id="BOX_4" name="BOX_4" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_4) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_4"><?=BOX_4?></label>
													</div> 
													<div class="col-md-3 form-group">
														<select id="BOX_7" name="BOX_7" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_7) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_7"><?=BOX_7?></label>
													</div> 
													
													<!-- Ticket # 1595 -->
													<div class="col-md-3">
														<div class="row form-group">
															<div class="custom-control col-md-6"><?=SCHOOL_HEADER_OPTION?></div>
															<div class="custom-control custom-radio col-md-3">
																<input type="radio" id="SCHOOL_HEADER_OPTION_1" name="SCHOOL_HEADER_OPTION" value="2" <? if($SCHOOL_HEADER_OPTION == 2) echo "checked"; ?> class="custom-control-input">
																<label class="custom-control-label" for="SCHOOL_HEADER_OPTION_1"><?=CAMPUS?></label>
															</div>
															<div class="custom-control custom-radio col-md-3">
																<input type="radio" id="SCHOOL_HEADER_OPTION_2" name="SCHOOL_HEADER_OPTION" value="1" <? if($SCHOOL_HEADER_OPTION == 1) echo "checked"; ?>  class="custom-control-input">
																<label class="custom-control-label" for="SCHOOL_HEADER_OPTION_2"><?=GENERAL?></label>
															</div>
														</div>
													</div>
													<!-- Ticket # 1595 -->
												</div>
												
												<div class="row">
													<div class="col-md-3 form-group">
														<select id="BOX_2" name="BOX_2" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_2) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_2"><?=BOX_2?></label>
													</div>
													<div class="col-md-3 form-group">
														<select id="BOX_5" name="BOX_5" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_5) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_5"><?=BOX_5?></label>
													</div> 
													<div class="col-md-3 form-group">
														<select id="BOX_8" name="BOX_8" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_8) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_8"><?=BOX_8?></label>
													</div> 
													
													<!-- Ticket # 1595 -->
													<div class="col-md-3">
														<div class="row form-group">
															<div class="custom-control col-md-6"><?=LOGO_OPTION?></div>
															<div class="custom-control custom-radio col-md-3">
																<input type="radio" id="LOGO_OPTION_1" name="LOGO_OPTION" value="2" <? if($LOGO_OPTION == 2) echo "checked"; ?> class="custom-control-input">
																<label class="custom-control-label" for="LOGO_OPTION_1"><?=CAMPUS?></label>
															</div>
															<div class="custom-control custom-radio col-md-3">
																<input type="radio" id="LOGO_OPTION_2" name="LOGO_OPTION" value="1" <? if($LOGO_OPTION == 1) echo "checked"; ?>  class="custom-control-input">
																<label class="custom-control-label" for="LOGO_OPTION_2"><?=GENERAL?></label>
															</div>
														</div>
													</div>
													<!-- Ticket # 1595 -->
												</div>
												
												<div class="row">
													<div class="col-md-3 form-group">
														<select id="BOX_3" name="BOX_3" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_3) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_3"><?=BOX_3?></label>
													</div>
													<div class="col-md-3 form-group">
														<select id="BOX_6" name="BOX_6" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_6) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_6"><?=BOX_6?></label>
													</div> 
													<div class="col-md-3 form-group">
														<select id="BOX_9" name="BOX_9" class="form-control">
															<option selected ></option>
															<? foreach($REPORT_HEADER_VAL as $ind => $val) { ?>
																<option value="<?=$val ?>" <? if($val == $BOX_9) echo "selected"; ?> ><?=$REPORT_HEADER_TITLE[$ind]?></option>
															<? } ?>
														</select>
														<span class="bar"></span> 
														<label for="BOX_9"><?=BOX_9?></label>
													</div> 
												</div>
												
											</div>
										</div>
										<!-- Ticket # 1169  -->
										
										<!--<div class="tab-pane <?=$grade_input_tab?>" id="gradeInputTab" role="tabpanel">
											<div class="row">
												<div class="col-md-8 align-self-center">
												</div>  
												<div class="col-md-4 align-self-center text-right">
													<div class="d-flex justify-content-end align-items-center">
														<a href="javascript:void(0)" onclick="add_grade_input()" class="btn btn-info d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> <?=ADD_GRADE?></a>&nbsp;&nbsp;
													</div>
												</div>
											</div>
											
											<div class="p-20">
												<table data-toggle="table" data-mobile-responsive="true" class="table-striped" id="grade_input_table" >
													<thead>
														<tr>
															<th ><?=STUDENT?></th>
															<th ><?=GRADE?></th>
															<th ><?=STATUS?></th>
															<th ><?=INACTIVE?></th>
															<th ><?=MIDPOINT_GRADE?></th>
															<th ><?=ENROLLMENT?></th>
															<th ><?=COURSE_DATE?></th>
															<th ><?=DETAIL?></th>
															<th ><?=NUMERIC_GRADE?></th>
															<th ><?=DELETE?></th>
														</tr>
													</thead>
													<tbody>
														<? /*$grade_input_cunt = 1; 
														$result1 = $db->Execute("SELECT PK_STUDENT_PROGRAM_GRADE FROM S_STUDENT_PROGRAM_GRADE WHERE PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM = '$_GET[id]' ");
														$reccnt = $result1->RecordCount();
														while (!$result1->EOF) {
															$_REQUEST['PK_STUDENT_PROGRAM_GRADE'] 	= $result1->fields['PK_STUDENT_PROGRAM_GRADE'];
															$_REQUEST['scale']  					= $PK_GRADE_SCALE_MASTER;
															$_REQUEST['PK_CAMPUS_PROGRAM']  		= $_GET['id'];
															$_REQUEST['grade_input_cunt']  			= $grade_input_cunt;
															
															include('ajax_program_grade_book_input.php');
															
															$grade_input_cunt++;	
															$result1->MoveNext();
														}*/ ?>
													</tbody>
												</table>
												
											</div>
										</div>-->
											<!-- DIAM-2365 -->
											<div class="tab-pane <?= $gainful_employment_tab ?>" id="gainfulEmployementTab" role="tabpanel">
												<div class="p-20">
													<div id="FA_DIV_DEF">
														<?php
														$_REQUEST['sid'] 			= $_GET['id'];
														$_REQUEST['t'] 	  			= $_GET['tab'];
														include("gainful_employment_tab.php");
														?>
													</div>
												</div>
											</div>
											<!-- DIAM-2365 -->
										<? } ?>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-12">
							<div class="form-group m-b-5"  style="text-align:right" >
								<button onclick="validate_form(1)" type="button" class="btn waves-effect waves-light btn-info"><?=SAVE_CONTINUE?></button>
								<button onclick="validate_form(0)" type="button" class="btn waves-effect waves-light btn-info"><?=SAVE_EXIT?></button>
								
								<button type="button" class="btn waves-effect waves-light btn-dark" onclick="window.location.href='manage_program'" ><?=CANCEL?></button>
								
								<input type="hidden" name="SAVE_CONTINUE" id="SAVE_CONTINUE" value="0" />
								<input type="hidden" id="current_tab" name="current_tab" value="0" >
								<br /><br />
								
								<input type="text" id="form_edited" name="form_edited" value="0" style="display:none" />
							</div>
						</div>
					</div>
				</form>
            </div>
        </div>
        <? require_once("footer.php"); ?>
    </div>
	
	<div class="modal" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="exampleModalLabel1"><?=DELETE_CONFIRMATION?></h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>
				<div class="modal-body">
					<div class="form-group" id="delete_message" ></div>
					<input type="hidden" id="DELETE_ID" value="0" />
					<input type="hidden" id="DELETE_TYPE" value="0" />
				</div>
				<div class="modal-footer">
					<button type="button" onclick="conf_delete(1)" class="btn waves-effect waves-light btn-info"><?=YES?></button>
					<button type="button" class="btn waves-effect waves-light btn-dark" onclick="conf_delete(0)" ><?=NO?></button>
				</div>
			</div>
		</div>
	</div>
	
	<div class="modal" id="copy_req_Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="exampleModalLabel1"><?=COPY_REQUIREMENT_TO?></h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>
				<div class="modal-body">
					<select id="PK_CAMPUS_PROGRAM_1" class="form-control">
						<? $where = " AND M_CAMPUS_PROGRAM.PK_ACCOUNT = '$_SESSION[PK_ACCOUNT]' AND PK_CAMPUS_PROGRAM != '$_GET[id]' ";
						/* if($_SESSION['PK_ROLES'] == 3)
							$where .= " AND PK_CAMPUS IN ($_SESSION[PK_CAMPUS]) "; */
						$res_type = $db->Execute("select PK_CAMPUS_PROGRAM,CODE,DESCRIPTION from M_CAMPUS_PROGRAM WHERE M_CAMPUS_PROGRAM.ACTIVE = 1 $where ");
						while (!$res_type->EOF) { ?>
							<option value="<?=$res_type->fields['PK_CAMPUS_PROGRAM'] ?>" ><?=$res_type->fields['CODE'].' '.$res_type->fields['DESCRIPTION']?></option>
						<?	$res_type->MoveNext();
						} ?>
					</select>
				</div>
				<div class="modal-footer">
					<button type="button" onclick="conf_copy_requirement_to(1)" class="btn waves-effect waves-light btn-info"><?=COPY?></button>
					<button type="button" class="btn waves-effect waves-light btn-dark" onclick="conf_copy_requirement_to(0)" ><?=CANCEL?></button>
				</div>
			</div>
		</div>
	</div>
   
	<? require_once("js.php"); ?>
	<script src="../backend_assets/dist/js/jquery.are-you-sure.js"></script>
	
	<script src="../backend_assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
	<link href="../backend_assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" />
	
	<script type="text/javascript">
	<? if($_GET['tab'] != '') { ?>
		var current_tab = '<?=$_GET['tab']?>';
	<? } else { ?>
		var current_tab = 'generalTab';
	<? } ?>
	jQuery(document).ready(function($) { 
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			current_tab = $(e.target).attr("href") // activated tab
			//alert(current_tab)
			
			/* Ticket #1917 */
			var dd = document.getElementsByClassName('select2-container--default');
			for(var i = 0 ; i < dd.length ; i++){
				dd[i].style.width = '100%' ;
			}
			/* Ticket #1917 */
		});
		
		$('#form1').areYouSure();
		
		<? if($_GET['id'] != ''){ ?>
		// calc_tot_fee()
		// calc_tot_prog_grade() //Ticket # 1525 
		<? } ?>
		
		$('#grade_input_table').on('post-body.bs.table', function (e) {
			jQuery('.date').datepicker({
				todayHighlight: true,
				orientation: "bottom auto"
			});
		})
		
		jQuery('.date').datepicker({
			todayHighlight: true,
			orientation: "bottom auto"
		});
		
		duplicate_check()
		
		//calc_course_tot() //Ticket # 1244  
		calc_ay_total() //Ticket # 1245 
	});
	
	/* Ticket # 1525  */
	function calc_tot_prog_grade(){
		var GRADE_SESSION_TOT 	= 0;
		var GRADE_HOUR_TOT 		= 0;
		var GRADE_POINTS_TOT 	= 0;
		
		var GRADE_SESSION 	= document.getElementsByName('GRADE_SESSION[]');
		var GRADE_HOUR 		= document.getElementsByName('GRADE_HOUR[]');
		var GRADE_POINTS 	= document.getElementsByName('GRADE_POINTS[]');
		for(var i = 0 ; i < GRADE_SESSION.length ; i++){
			var grade_session = GRADE_SESSION[i].value
			if(grade_session != '') {
				GRADE_SESSION[i].value 	= parseFloat(grade_session).toFixed(2);
				GRADE_SESSION_TOT 	 	= parseFloat(GRADE_SESSION_TOT) + parseFloat(grade_session)
			}
			
			var grade_hour = GRADE_HOUR[i].value
			if(grade_hour != '') {
				GRADE_HOUR[i].value = parseFloat(grade_hour).toFixed(2);
				GRADE_HOUR_TOT 	 	= parseFloat(GRADE_HOUR_TOT) + parseFloat(grade_hour)
			}
			
			var grade_points = GRADE_POINTS[i].value
			if(grade_points != '') {
				GRADE_POINTS[i].value 	= parseFloat(grade_points).toFixed(2);
				GRADE_POINTS_TOT 	 	= parseFloat(GRADE_POINTS_TOT) + parseFloat(grade_points)
			}
		}
		
		
		document.getElementById('SESSIONS_REQUIRED_TOTAL_DIV').innerHTML 	= GRADE_SESSION_TOT.toFixed(2);
		document.getElementById('HOURS_REQUIRED_TOTAL_DIV').innerHTML 		= GRADE_HOUR_TOT.toFixed(2);
		document.getElementById('POINTS_REQUIRED_TOTAL_DIV').innerHTML 		= GRADE_POINTS_TOT.toFixed(2);
	}
	/* Ticket # 1525  */
	
	function duplicate_check(){
		jQuery(document).ready(function($) {
			if (document.form1.CODE.value  != ""){
				var CODE = document.form1.CODE.value;
				var data="CODE="+CODE+'&type=PROGRAM_CODE&k=<?=$_SESSION['PK_ACCOUNT']?>&id=<?=$_GET['id']?>';
				$.ajax({
					type: "POST",
					url:"../check_duplicate",
					data:data,
					success: function(result1){ 
						if(result1==1){
							document.getElementById('already_exit').style.display 	= "block";
							document.getElementById('CODE').value 					= "";
							return false;
						}else{
							document.getElementById('already_exit').style.display = "none";
						}
					}
				});
			}
		});	
	}
	</script>
	
	<script src="../backend_assets/dist/js/validation_prototype.js"></script>
	<script src="../backend_assets/dist/js/validation.js"></script>
	<script type="text/javascript">
	function validate_form(val){
		jQuery(document).ready(function($) { 
			document.getElementById('current_tab').value   = current_tab;
			document.getElementById("SAVE_CONTINUE").value = val;
			//Ticket # 1160
			var valid = new Validation('form1', {onSubmit:false});
			var result = valid.validate();
			if(result == true) {
				$("#form1").removeClass('dirty');
				document.form1.submit();
			} else { 
				var str = '';
				var x = document.getElementsByClassName("validation-failed");
				var i;
				for (i = 0; i < x.length; i++) {
					if(str != '')
						str += "\n";
						
					str += x[i].getAttribute('error_label')
					alert("<?=PLEASE_CORRECT_FOLLOWING_ERRORS?>\n\n"+str);
					return false;
				}
				
			}
			//Ticket # 1160
		});
	}
	
	var requirement_id = '<?=$requirement_id?>';
	function add_requirement(){
		jQuery(document).ready(function($) { 
			var data  = 'requirement_id='+requirement_id;
			var value = $.ajax({
				url: "ajax_program_requirement",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					//alert(data)
					$('#requirement_div').append(data);
					requirement_id++;
					
					set_form_edited()
				}		
			}).responseText;
		});
	}
	
	var ay_id = '<?=$ay_id?>'
	function add_ay(){
		jQuery(document).ready(function($) { 
			var data  = 'ay_id='+ay_id;
			var value = $.ajax({
				url: "ajax_program_ay",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					//alert(data)
					$('#ay_div').append(data);
					ay_id++;
					
					set_form_edited()
				}		
			}).responseText;
		});
	}
	
	//var program_fee_id = '<?php //$program_fee_id?>';
	function add_program_fee(){
		jQuery(document).ready(function($) { 

			//30 may 2023
			var program_fee_id=0;
				if($('#last_row_program_fee_id').val()!==''){
					program_fee_id = $('#last_row_program_fee_id').val();
				}
			//30 may 2023

			var data  = 'program_fee_id='+program_fee_id;
			var value = $.ajax({
				url: "ajax_program_fee",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					//alert(data)
					$('#program_fee_div').append(data);
					program_fee_id++;
					$('#last_row_program_fee_id').val(program_fee_id); //30 may 2023

					
					set_form_edited()
				}		
			}).responseText;
		});
	}
	
	//var program_course_id = '<? //=$program_course_id?>';
	function add_program_course(){
		jQuery(document).ready(function($) { 
			/* Ticket # 1603 */
			var USE_TRANSCRIPT_GROUP = 0;
			if(document.getElementById('USE_TRANSCRIPT_GROUP').checked == true)
				USE_TRANSCRIPT_GROUP = 1;
				
				//30 may 2023
				var program_course_id=2;
				if($('#last_row_program_course_id').val()!==''){
					program_course_id = $('#last_row_program_course_id').val();
				}
				
	

				//30 may 2023
	
			var data  = 'program_course_id='+program_course_id+'&USE_TRANSCRIPT_GROUP='+USE_TRANSCRIPT_GROUP;
			/* Ticket # 1603 */
			
			var value = $.ajax({
				url: "ajax_program_course",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					//alert(data)
					$('#program_course_div').append(data);
					AjaxProgramLoadSelectOption(program_course_id,[[]],[[]]);

					if (USE_TRANSCRIPT_GROUP == 1) {
							var course_width = document.getElementsByClassName('c1')
							for (var i = 0; i < course_width.length; i++) {
								course_width[i].style.flex = "0 0 10%"
								course_width[i].style.maxWidth = "10%"

							}

						} else {
							var course_width = document.getElementsByClassName('c1')
							for (var i = 0; i < course_width.length; i++) {
								course_width[i].style.flex = "0 0 17%"
								course_width[i].style.maxWidth = "18%"

							}

						}

					// $('#COURSE_PK_COREQUISITE_'+program_course_id).multiselect({
					// 	includeSelectAllOption: true,
					// 	allSelectedText: 'All <?=COREQUISITE?>',
					// 	nonSelectedText: '',
					// 	numberDisplayed: 2,
					// 	enableCaseInsensitiveFiltering: true, //ticket #1917 
					// 	nSelectedText: '<?=COREQUISITE?> selected'
					// });
					
					// $('#COURSE_PK_PREREQUISITE_'+program_course_id).multiselect({
					// 	includeSelectAllOption: true,
					// 	allSelectedText: 'All <?=PREREQUISITE?>',
					// 	nonSelectedText: '',
					// 	numberDisplayed: 2,
					// 	enableCaseInsensitiveFiltering: true, //ticket #1917 
					// 	nSelectedText: '<?=PREREQUISITE?> selected'
					// });
					
					/* ticket #1917 */
					$('#COURSE_PK_COURSE_'+program_course_id).multiselect({
						enableCaseInsensitiveFiltering: true,
						onDropdownShown: function(e) {
							this.$container.find(':radio').hide();
						}
					});
					/* ticket #1917  */
					
					program_course_id++;
					$('#last_row_program_course_id').val(program_course_id); //30 may 2023

					new Sortable(program_course_div, {
						animation: 150,
						ghostClass: 'blue-background-class',
						onEnd: function (evt) {
							set_order()
						}
					});
					
					set_order()
					set_form_edited()

					// 30 may 2023
					$('.multiselect1').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= COREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= COREQUISITE ?> selected'
					});			
					$('.multiselect2').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= PREREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= PREREQUISITE ?> selected'
					});
					// 30 may 2023
				}		
			}).responseText;
		});
	}
	
	function copy_requirement_to(id,type){
		jQuery(document).ready(function($) {
			$("#copy_req_Modal").modal()
		});
	}
	function conf_copy_requirement_to(val){
		jQuery(document).ready(function($) {
			if(val == 1) {
				var data  = 'new_pid='+$("#PK_CAMPUS_PROGRAM_1").val()+'&pid=<?=$_GET['id']?>';
				var value = $.ajax({
					url: "ajax_copy_program_requirment",	
					type: "POST",		 
					data: data,		
					async: false,
					cache: false,
					success: function (data) {	
						alert('Copied')
					}		
				}).responseText;
			}
			$("#copy_req_Modal").modal("hide");
		});
	}
	
	function delete_row(id,type){
		jQuery(document).ready(function($) {
			if(type == 'requirement')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.REQUIREMENT?>?';
			else if(type == 'AY')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.AY?>?';
			else if(type == 'program_fee')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.TAB_TUITION_FEE?>?';
			else if(type == 'program_course')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.TAB_PROGRAM_COURSE?>?';
			else if(type == 'award')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.TAB_FINANCIAL_PLAN?>?';
			else if(type == 'grade')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.TAB_GRADE?>?';
			else if(type == 'grade_input')
				document.getElementById('delete_message').innerHTML = '<?=DELETE_MESSAGE.TAB_GRADE_INPUT?>?';
			
			$("#deleteModal").modal()
			$("#DELETE_ID").val(id)
			$("#DELETE_TYPE").val(type)
		});
	}
	const del_element_arr =[]; //DIAM-786
	function conf_delete(val,id){
		jQuery(document).ready(function($) {
			if(val == 1) {
				if($("#DELETE_TYPE").val() == 'requirement') {
					//window.location.href = 'program?act=req_del&id=<?=$_GET['id']?>&iid='+$("#DELETE_ID").val();
					var iid = $("#DELETE_ID").val()
					$("#requirement_div_"+iid).remove()
					set_form_edited()
				} else if($("#DELETE_TYPE").val() == 'AY'){
					var iid = $("#DELETE_ID").val()
					$("#ay_div_"+iid).remove()
					calc_ay_total() //Ticket # 1245 
					set_form_edited()
				} else if($("#DELETE_TYPE").val() == 'program_fee'){
					var iid = $("#DELETE_ID").val()		
					//DIAM-786			
					var del_ele_value = jQuery("#delete_element_"+iid).data('action');	
					del_element_arr.push(del_ele_value);	
					var arr_to_str = del_element_arr.join(", ");
					$("#delete_row_program_fee_id").val(arr_to_str);
					//DIAM-786	
					$("#program_fee_div_"+iid).remove()				
					calc_tot_fee()
					set_form_edited()
				} else if($("#DELETE_TYPE").val() == 'program_course'){
					var iid = $("#DELETE_ID").val()
					$("#program_course_div_"+iid).remove()
					calc_course_tot() //Ticket # 1244
					set_order()
					set_form_edited()
				} else if($("#DELETE_TYPE").val() == 'award'){
					var iid = $("#DELETE_ID").val()
					$("#student_award_div_"+iid).remove()
					set_order()
					set_form_edited()
				} else if($("#DELETE_TYPE").val() == 'grade') {
					var id = $("#DELETE_ID").val()
					$("#grade_table_"+id).remove()
					set_form_edited()
					calc_tot_prog_grade() //Ticket # 1525 
				} else if($("#DELETE_TYPE").val() == 'grade_input') {
					var id = $("#DELETE_ID").val()
					$("#grade_input_table_"+id).remove()
					set_form_edited()
				}
				
			}
			$("#deleteModal").modal("hide");
		});
	}
	function get_ledger_desc(val,id){
		jQuery(document).ready(function($) {
			var data  = 'val='+val;
			var value = $.ajax({
				url: "ajax_get_ledger_desc",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					document.getElementById('FEE_DESCRIPTION_'+id).value = data
				}		
			}).responseText;
		});
	}
	
	function get_ledger_desc_1(val,id){
		jQuery(document).ready(function($) {
			var data  = 'val='+val;
			var value = $.ajax({
				url: "ajax_get_ledger_desc",	
				type: "POST",		 
				data: data,		
				async: false,
				cache: false,
				success: function (data) {	
					document.getElementById('AWARD_PK_AR_LEDGER_CODE_DESC_'+id).innerHTML = data
				}		
			}).responseText;
		});
	}
	
	function set_form_edited(){
		document.getElementById('form_edited').focus(); 
		document.getElementById('form_edited').value = document.getElementById('form_edited').value + "a";
		document.getElementById('form_edited').focus(); 
		//alert(document.getElementById('form_edited').value)
	}
	</script>
	
	<script src="../backend_assets/dist/js/Sortable.js"></script>
	<script>
		jQuery(document).ready(function($) {
			  new Sortable(program_course_div, {
				animation: 150,
				ghostClass: 'blue-background-class',
				
				onEnd: function (evt) {
					set_order()
				}
			});
		});
		function set_order(){
			var COURSE_ORDER = document.getElementsByName('COURSE_ORDER[]')
			for(var i = 0 ; i < COURSE_ORDER.length ; i++){
				COURSE_ORDER[i].value = i + 1
			}
		}
		
		function calc_tot_fee(){
			var FEE_AMT_TOT = 0;
			var BUG_TUT 	= 0;
			var BUG_ONLY 	= 0;
			
			var FEE_AMT 	= document.getElementsByName('FEE_AMOUNT[]');
			var PK_FEE_TYPE = document.getElementsByName('PK_FEE_TYPE[]');
			for(var i = 0 ; i < FEE_AMT.length ; i++){
				var fee_amt = FEE_AMT[i].value
				if(fee_amt != '') {
					FEE_AMT[i].value = parseFloat(fee_amt).toFixed(2);
					FEE_AMT_TOT 	 = parseFloat(FEE_AMT_TOT) + parseFloat(fee_amt)
					
					if(PK_FEE_TYPE[i].value == 1)
						BUG_ONLY += parseFloat(fee_amt)
						
					if(PK_FEE_TYPE[i].value == 2)
						BUG_TUT += parseFloat(fee_amt)
				}
			}
			
			document.getElementById('BUG_TUT_DIV').innerHTML 		= BUG_TUT.toFixed(2);
			document.getElementById('BUG_ONLY_DIV').innerHTML 		= BUG_ONLY.toFixed(2);
			document.getElementById('TOTAL_FEE_AMT_DIV').innerHTML 	= FEE_AMT_TOT.toFixed(2);
		}
		
		//var award_id = '<? //=$award_id?>';
		function add_award(){
			jQuery(document).ready(function($) { 

				//30 may 2023
				var award_id=0;
				if($('#last_row_program_award_id').val()!==''){
				award_id = $('#last_row_program_award_id').val();
				}	
				//30 may 2023
				var data  = 'award_id='+award_id+'&id=<?=$_GET['id']?>'; 
				var value = $.ajax({
					url: "ajax_program_award",	
					type: "POST",		 
					data: data,		
					async: false,
					cache: false,
					success: function (data) {	
						//alert(data)
						$('#award_table tbody').append(data);
						award_id++;
						$('#last_row_program_award_id').val(award_id); //30 may 2023

						
					}		
				}).responseText;
			});
		}
		function calc_net_amount(id){
			var GROSS_AMOUNT = document.getElementById('AWARD_GROSS_AMOUNT_'+id).value
			var FEE_AMOUNT 	 = document.getElementById('AWARD_FEE_AMOUNT_'+id).value
			
			if(GROSS_AMOUNT == '')
				GROSS_AMOUNT = 0;
			else
				GROSS_AMOUNT = parseFloat(GROSS_AMOUNT);
				
			if(FEE_AMOUNT == '')
				FEE_AMOUNT = 0;
			else
				FEE_AMOUNT = parseFloat(FEE_AMOUNT);
				
			var net = GROSS_AMOUNT - FEE_AMOUNT
			
			document.getElementById('AWARD_NET_AMOUNT_'+id).value = net
			
			var tot = 0;
			var AWARD_NET_AMOUNT = document.getElementsByName('AWARD_NET_AMOUNT[]')
			for(var i = 0 ; i < AWARD_NET_AMOUNT.length ; i++){
				if(AWARD_NET_AMOUNT[i].value != '' ) {
					tot += parseFloat(AWARD_NET_AMOUNT[i].value)
				}
			}
			document.getElementById('TOTAL_NET_AMT').innerHTML = tot.toFixed(2); 
		}
		
		var grade_cunt = '<?=$grade_cunt?>';
		function add_grade(){
			jQuery(document).ready(function($) {
				var data = 'grade_cunt='+grade_cunt;
				var value = $.ajax({
					url: "ajax_program_grade_book",	
					type: "POST",
					data: data,		
					async: false,
					cache :false,
					success: function (data) {
						$('#grade_table tbody').append(data);
						grade_cunt++;
						
						jQuery('.date').datepicker({
							todayHighlight: true,
							orientation: "bottom auto"
						});
					}		
				}).responseText;
			});
		}
		
		var grade_input_cunt = '<?=$grade_input_cunt?>';
		function add_grade_input(){
			jQuery(document).ready(function($) {
				var data = 'grade_input_cunt='+grade_input_cunt+'&scale='+document.getElementById('PK_GRADE_SCALE_MASTER').value+'&PK_CAMPUS_PROGRAM=<?=$_GET['id']?>';
				var value = $.ajax({
					url: "ajax_program_grade_book_input",	
					type: "POST",
					data: data,		
					async: false,
					cache :false,
					success: function (data) {
						$('#grade_input_table tbody').append(data);
						grade_input_cunt++;
						
						jQuery('.date').datepicker({
							todayHighlight: true,
							orientation: "bottom auto"
						});
					}		
				}).responseText;
			});
		}
		
		function get_grade_book_code_value(val,id){
			jQuery(document).ready(function($) {
				var data = 'val='+val;
				var value = $.ajax({
					url: "ajax_get_grade_book_code_value",	
					type: "POST",
					data: data,		
					async: false,
					cache :false,
					success: function (data) {
						data = data.split('|||');
						
						document.getElementById('GRADE_DESCRIPTION_'+id).value 	= data[1];
						document.getElementById('GRADE_SESSION_'+id).value 		= data[3];
						document.getElementById('GRADE_HOUR_'+id).value 		= data[2];
						document.getElementById('GRADE_POINTS_'+id).value 		= data[4];
					}		
				}).responseText;
			});
		}
		
		/* Ticket # 1244  */
		function get_course_units(id, val){
			jQuery(document).ready(function($) {
				var data = 'id='+val;
				var value = $.ajax({
					url: "ajax_get_course_units",	
					type: "POST",
					data: data,		
					async: false,
					cache :false,
					success: function (data) {
						data = data.split('|||');
						
						document.getElementById('C_UNITS_DIV_'+id).innerHTML 	= data[0];
						document.getElementById('C_FA_UNITS_'+id).innerHTML 	= data[1];
						document.getElementById('C_HOURS_'+id).innerHTML 		= data[2];
						
						calc_course_tot()
					}		
				}).responseText;
			});
		}
		function calc_course_tot(){
			var x = document.getElementsByClassName("C_UNITS_CLS");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].innerHTML
				if(temp != ''){
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('C_UNITS_DIV_TOT').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByClassName("C_FA_UNITS_CLS");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].innerHTML
				if(temp != ''){
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('C_FA_UNITS_TOT').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByClassName("C_HOURS_CLS");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].innerHTML
				if(temp != ''){
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('C_HOURS_TOT').innerHTML = tot.toFixed(2)
		}
		/* Ticket # 1244  */
		
		/* Ticket # 1245 */
		function calc_ay_total(){
			var x = document.getElementsByName("AY_PERIOD[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_PERIOD_DIV').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByName("AY_MONTHS[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_MONTHS_DIV').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByName("AY_WEEKS[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_WEEKS_DIV').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByName("AY_UNITS[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_UNITS_DIV').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByName("AY_HOUR[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_HOURS_DIV').innerHTML = tot.toFixed(2)
			
			var x = document.getElementsByName("AY_FA_UNITS[]");
			var tot = 0;
			for (var i = 0; i < x.length; i++) {
				var temp = x[i].value
				if(temp != '') {
					temp = (temp.toString().replace(/,/g, "")); 
					tot  += parseFloat(temp);
				}
			}
			document.getElementById('AY_FA_UNITS_DIV').innerHTML = tot.toFixed(2)
		}
		/* Ticket # 1245 */
		
		/* Ticket # 1603 */
		function show_transcript_code(){
			if(document.getElementById('USE_TRANSCRIPT_GROUP').checked == true){
				var str = "revert";
				var course_width = document.getElementsByClassName('c1')
				for (var i = 0; i < course_width.length; i++) {
					course_width[i].style.flex = "0 0 10%"
					course_width[i].style.maxWidth = "10%"
				}
			} else {
				var str = "none";
				var course_width = document.getElementsByClassName('c1')
				for (var i = 0; i < course_width.length; i++) {
					course_width[i].style.flex = "0 0 17%"
					course_width[i].style.maxWidth = "18%"

				}
			}
			
			var TRANSCRIPT_GROUP_CLS 	= document.getElementsByClassName('TRANSCRIPT_GROUP_CLS')
			for(var i = 0 ; i < TRANSCRIPT_GROUP_CLS.length ; i++){
				TRANSCRIPT_GROUP_CLS[i].style.display = str
			}
		}
		/* Ticket # 1603 */
	</script>
	
	<link href="../backend_assets/node_modules/bootstrap-table/dist/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
	<script src="../backend_assets/node_modules/bootstrap-table/dist/bootstrap-table.min.js"></script>
	
	<script type="text/javascript" src="../backend_assets/dist/js/bootstrap-multiselect.js"></script>
	<link rel="stylesheet" href="../backend_assets/dist/css/bootstrap-multiselect.css" type="text/css"/>
	<script type="text/javascript">
	jQuery(document).ready(function($) {

		$('#PK_CAMPUS').multiselect({
			includeSelectAllOption: true,
			allSelectedText: 'All <?=CAMPUS?>',
			nonSelectedText: '',
			numberDisplayed: 2,
			nSelectedText: '<?=CAMPUS?> selected'
		});
		
		/* ticket #1917  */
		$('.course_mulselect').multiselect({
			enableCaseInsensitiveFiltering: true,
			onDropdownShown: function(e) {
				this.$container.find(':radio').hide();
			}
		});
		/* ticket #1917  */
		
	});
	
		//26 may 2023
		function loader(id)
		{
				document.getElementById('loaders').style.display = 'block';						

				document.getElementById(id).innerHTML='<div style="position: inherit;margin-top: 0;height: 46px;"><div class="datagrid-mask" style="display:block;top:64%;"></div><div class="datagrid-mask-msg" style="display:block;left:50%;top:60%;position:absolute;"> Please wait...</div></div>';

		}

		var tutionfeesclick = true;
		function AjaxProgramTutionFeeTab(id) {
			set_notification=false;
			if(tutionfeesclick==false) return false;		

			loader('programTutionFeeTab');
			jQuery(document).ready(function($) {
				var data = 'id=' + id;
				var value = $.ajax({
					url: "ajax_program_tution_fee_tab",
					type: "POST",
					data: data,
					async: false,
					cache: false,
					success: function(data) {			
									
						document.getElementById('programTutionFeeTab').innerHTML = data;	
						calc_tot_fee()
						calc_tot_prog_grade() 	
						tutionfeesclick = false;
						set_notification=true;
						document.getElementById('loaders').style.display = 'none';						

					
					}
				}).responseText;
			});

			
		}

		var coursesclick = true;
		function AjaxProgramCoursesTab(id) {

			if(coursesclick==false) return false;	
			if (document.getElementById('USE_TRANSCRIPT_GROUP').checked == true) {
				USE_TRANSCRIPT_GROUP=1;
			}else{
				USE_TRANSCRIPT_GROUP=0;

			}
			loader('program_course_div');
			set_notification=false;
			jQuery(document).ready(function($) {
				var data = 'id=' + id +'&USE_TRANSCRIPT_GROUP='+USE_TRANSCRIPT_GROUP;
				var value = $.ajax({
					url: "ajax_program_courses_tab",
					type: "POST",
					data: data,
					async: false,
					cache: false,
					success: function(data) {
						document.getElementById('program_course_div').innerHTML = data;	

						// //From ready function
						$('.multiselect1').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= COREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= COREQUISITE ?> selected'
						});			
						$('.multiselect2').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= PREREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= PREREQUISITE ?> selected'
						});
						
						calc_course_tot();
						coursesclick=false;
						setTimeout(function (){ set_notification=true;},700);
						document.getElementById('loaders').style.display = 'none';						

					
					}
				}).responseText;
			});
		}

		var awardclick = true;
		function AjaxProgramFinacePlanAwardTab(id) {
			set_notification=false;
			if(awardclick==false) return false;	
			
			loader('financialProgramAwardTab');
			jQuery(document).ready(function($) {
				var data = 'id=' + id;
				var value = $.ajax({
					url: "ajax_program_financial_plan_award_tab",
					type: "POST",
					data: data,
					async: false,
					cache: false,
					success: function(data) {												
						document.getElementById('financialProgramAwardTab').innerHTML = data;						
						awardclick = false;						
						set_notification=true;
						document.getElementById('loaders').style.display = 'none';						

					}
				}).responseText;
			});
		}
		
		function show_loder(){
			document.getElementById('loaders').style.display = 'block';						
		}
		
		function AjaxProgramLoadSelectOption(id,pk_corequisite,pk_prerequisite) {
						
			//loader('financialProgramAwardTab');
			jQuery(document).ready(function($) {
			    $('#loaders').css("display","block");	

				$('COURSE_PK_COREQUISITE_'+id).prepend($('<option></option>').html('Loading...'));

				$("#program_course_div_"+id+' .disableElement').removeClass("disableElement");
				$("#program_course_div_"+id).addClass("enableElement");
				
				$('.course_mulselect').multiselect({
							enableCaseInsensitiveFiltering: true,
							onDropdownShown: function(e) {
								this.$container.find(':radio').hide();
							}
				});
						
				if(pk_corequisite.length>0)
					pk_corequisite = pk_corequisite;
				else	
					pk_corequisite ="";

				var data = 'pk_corequisite=' +pk_corequisite;
				var value = $.ajax({
					url: "ajax_program_corequisite_select_option",
					type: "POST",
					data: data,
					async: false,
					cache: false,
					success: function(data) {												
						document.getElementById('COURSE_PK_COREQUISITE_'+id).innerHTML = data;		
						$(".multiselect1").multiselect('destroy');

						//From ready function
						$('.multiselect1').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= COREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= COREQUISITE ?> selected'
						});		
						//$(".multiselect1").multiselect('reload');					
					}
				}).responseText;


				
				if(pk_prerequisite.length>0)
					pk_prerequisite = pk_prerequisite;
				else	
					pk_corequisite ="";

				var data1 = 'pk_prerequisite=' +pk_prerequisite;
				var value = $.ajax({
					url: "ajax_program_prerequisite_select_option",
					type: "POST",
					data: data1,
					async: false,
					cache: false,
					success: function(data) {												
						document.getElementById('COURSE_PK_PREREQUISITE_'+id).innerHTML = data;		
						$(".multiselect2").multiselect('destroy');
						$('#loaders').css("display",'none');	

						//From ready function
						$('.multiselect2').multiselect({
							includeSelectAllOption: true,
							allSelectedText: 'All <?= PREREQUISITE ?>',
							nonSelectedText: '',
							numberDisplayed: 2,
							enableCaseInsensitiveFiltering: true, //ticket #1917 
							nSelectedText: '<?= PREREQUISITE ?> selected'
						});
						//$(".multiselect2").multiselect('reload');

					}
				}).responseText;

				if (document.getElementById('USE_TRANSCRIPT_GROUP').checked == true) {
				var course_width = document.getElementsByClassName('c1')
				for (var i = 0; i < course_width.length; i++) {
					course_width[i].style.flex = "0 0 10%"
					course_width[i].style.maxWidth = "10%"
				}

				} else {
				var course_width = document.getElementsByClassName('c1')
				for (var i = 0; i < course_width.length; i++) {
					course_width[i].style.flex = "0 0 17%"
					course_width[i].style.maxWidth = "18%"

				}

				}

			});
		}


		<?php
		if($_GET['tab'] == 'programFeeTab'){ ?>
			AjaxProgramTutionFeeTab(<?=$_GET['id']?>);		
		<? } ?>
		<?php
		if($_GET['tab'] == 'programCourseTab'){ ?>
			AjaxProgramCoursesTab(<?=$_GET['id']?>);
		<? } ?>
		<?php
		if($_GET['tab'] == 'awardTab'){ ?>
			AjaxProgramFinacePlanAwardTab(<?=$_GET['id']?>);			
		<? } ?>
		//26 may 2023
	</script>	
</body>

</html>
